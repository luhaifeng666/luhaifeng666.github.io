<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://luhaifeng666.github.io</id>
    <title>é…±è±†è…ç²¾çš„å°ç«™</title>
    <updated>2021-12-24T15:16:02.290Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://luhaifeng666.github.io"/>
    <link rel="self" href="https://luhaifeng666.github.io/atom.xml"/>
    <subtitle>æˆ‘å¹ï¼Œä½ å¬</subtitle>
    <logo>https://luhaifeng666.github.io/images/avatar.png</logo>
    <icon>https://luhaifeng666.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, é…±è±†è…ç²¾çš„å°ç«™</rights>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°ä¸€ï¼šä¸€äº›åŸºç¡€çŸ¥è¯†]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-yi-yi-xie-ji-chu-zhi-shi/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-yi-yi-xie-ji-chu-zhi-shi/">
        </link>
        <updated>2021-12-24T08:44:20.000Z</updated>
        <summary type="html"><![CDATA[<p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¼šä½¿ç”¨åˆ°è„šæ‰‹æ¶ï¼Œæ¯”å¦‚ <code>vue-cli</code> ç­‰ç­‰ã€‚è¯šç„¶ï¼Œè„šæ‰‹æ¶å¯ä»¥è®©æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘æ›´åŠ ä¾¿åˆ©ï¼Œä½†æ˜¯ä¹…è€Œä¹…ä¹‹ï¼Œé€æ¸ä¾èµ–è„šæ‰‹æ¶è¿›è¡Œå¼€å‘çš„æˆ‘ä»¬ï¼Œå¯èƒ½ä¼šå¯¹ä¸€äº›å·¥å…·çš„ä½¿ç”¨é€æ¸ç”Ÿç–ï¼Œæ¯”å¦‚ <code>webpack</code> ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¼šä½¿ç”¨åˆ°è„šæ‰‹æ¶ï¼Œæ¯”å¦‚ <code>vue-cli</code> ç­‰ç­‰ã€‚è¯šç„¶ï¼Œè„šæ‰‹æ¶å¯ä»¥è®©æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘æ›´åŠ ä¾¿åˆ©ï¼Œä½†æ˜¯ä¹…è€Œä¹…ä¹‹ï¼Œé€æ¸ä¾èµ–è„šæ‰‹æ¶è¿›è¡Œå¼€å‘çš„æˆ‘ä»¬ï¼Œå¯èƒ½ä¼šå¯¹ä¸€äº›å·¥å…·çš„ä½¿ç”¨é€æ¸ç”Ÿç–ï¼Œæ¯”å¦‚ <code>webpack</code> ã€‚</p>
<!-- more -->
<p>å°¤å…¶åœ¨å…¬å¸çš„æŠ€æœ¯æ ˆæ—¥è¶‹ç¨³å®šä¹‹åï¼Œæˆ‘ä»¬æ‰‹åŠ¨é…ç½® <code>webpack</code> çš„æœºä¼šå°±è¶Šæ¥è¶Šå°‘ï¼Œæˆ‘å°±æ˜¯å¦‚æ­¤...Orzã€‚æ‰€ä»¥å€Ÿæ­¤æœºä¼šï¼Œæˆ‘å†³å®šå†é‡å¤´å­¦ä¹ ä¸€éè¿™ä¸ªç†Ÿæ‚‰è€Œåˆæœ‰ç‚¹é™Œç”Ÿçš„å·¥å…·ï¼Œå¹¶å°†ç¬”è®°åšä¸€ä¸ªæ¢³ç†ï¼Œå¸Œæœ›å¯¹åŒæ ·æœ‰æ­¤æ„Ÿè§¦ï¼Œæˆ–è€…æƒ³å­¦ä¹  <code>webpack</code> çš„å°ä¼™ä¼´ä»¬æœ‰æ‰€å¸®åŠ©~</p>
<p>æ­¤å¤„ä¸»å­é•‡æ¥¼~</p>
<figure data-type="image" tabindex="1"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/456b7108fbd64ed8b270b7287cb4b364~tplv-k3u1fbpfcp-watermark.awebp" alt="ä¸»å­" loading="lazy"></figure>
<blockquote>
<p>æœ¬ç« èŠ‚åŠåé¢çš„ç« èŠ‚ä½¿ç”¨çš„webpackåŠwebpack-cliçš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š<br><br>
<code>&quot;webpack&quot;: &quot;4.41.6&quot;</code> <br><br>
<code>&quot;webpack-cli&quot;: &quot;3.3.11&quot;</code></p>
</blockquote>
<p>åœ¨å¼€å§‹å­¦ä¹ <code>webpack</code>ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ä¸ä¹‹ç›¸å…³çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚</p>
<h1 id="æ„å»ºå·¥å…·çš„æ¦‚å¿µ">æ„å»ºå·¥å…·çš„æ¦‚å¿µ</h1>
<p>é€šä¿—ç‚¹æ¥è¯´ï¼Œæ„å»ºå·¥å…·å°±æ˜¯åŒ…å«ä¸€ç³»åˆ—å°å·¥å…·çš„å¤§å·¥å…·ã€‚<br><br>
æˆ‘ä»¬æ¥ä¸¾ä¸ªğŸŒ°ï¼šæ¯”å¦‚æˆ‘ä»¬éœ€è¦å°†lessã€sassç­‰cssé¢„å¤„ç†å™¨å†™çš„ä»£ç ç¼–è¯‘æˆæ­£å¸¸çš„cssä»£ç ï¼Œåˆ™éœ€è¦ç›¸åº”çš„ç¼–è¯‘å·¥å…·ï¼›è€Œéœ€è¦å°†ES6+çš„ä»£ç è½¬æ¢ä¸ºå…¼å®¹æ€§æ›´é«˜çš„ES5çš„ä»£ç ï¼Œä¹Ÿéœ€è¦ç›¸åº”çš„ç¼–è¯‘å·¥å…·ã€‚è€Œå°†è¯¸å¦‚æ­¤ç±»çš„å°å·¥å…·åŒ…å«èµ·æ¥çš„å¤§å·¥å…·ï¼Œå°±å« <code>æ„å»ºå·¥å…·</code> (æ¯”å¦‚æˆ‘ä»¬æ¥ä¸‹æ¥è¦å­¦ä¹ çš„ <code>webpack</code> å°±æ˜¯æ„å»ºå·¥å…·)ã€‚åœ¨æ„å»ºå·¥å…·ä¸­,æˆ‘ä»¬å¯ä»¥å¤„ç†æ‰€æœ‰çš„è¿™äº›æ“ä½œã€‚</p>
<h1 id="é™æ€æ¨¡å—æ‰“åŒ…å™¨çš„æ¦‚å¿µ">é™æ€æ¨¡å—æ‰“åŒ…å™¨çš„æ¦‚å¿µ</h1>
<p>è¿™ä¸ªæ¦‚å¿µé‡Œä¸»è¦åˆ†ä¸ºä¸¤ä¸ªå°çš„æ¦‚å¿µï¼Œå³ <code>é™æ€æ¨¡å—</code> ä¸ <code>æ‰“åŒ…</code>ã€‚<br><br>
æˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-js">// main.js
import $ from 'Jquery'
import './less/common.less'
</code></pre>
<p>æˆ‘ä»¬åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥äº†ä¸¤ä¸ªæ¨¡å—ï¼Œwebpackåœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œä¼šå…ˆç”Ÿæˆå¯¹åº”çš„ä¾èµ–å…³ç³»ï¼Œå³åœ¨ <code>main.js</code> ä¸­å¼•å…¥äº† <code>Jquery</code> ä»¥åŠ<code>common.less</code> ä¸¤ä¸ªæ¨¡å—ï¼š<br>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/463c25df4e2e4c06a694a61c0b4cb717~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
å…¶ä¸­ <code>main.js</code> , <code>Jquery</code> , <code>common.less</code> ç§°ä¸º <code>ï¼ˆé™æ€ï¼‰æ¨¡å—</code>ï¼Œä¹Ÿå«åš <code>chunk</code> ï¼Œå«ä¹‰å°±æ˜¯ä»£ç å—; ä¹‹åwebpackä¼šå¯¹chunkä»£ç å—è¿›è¡Œå¤„ç†ï¼Œå°†lessä»¥åŠES6è¯­æ³•åšè½¬æ¢ï¼Œè½¬æ¢æˆæµè§ˆå™¨å¯è¯†åˆ«çš„å†…å®¹ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš<code>æ‰“åŒ…</code>ã€‚æ‰“åŒ…å®Œæˆåï¼Œè¾“å‡ºçš„æ–‡ä»¶ç§°ä¹‹ä¸º <code>bundle</code>ã€‚</p>
<h1 id="webpackçš„äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ"><a href="https://www.webpackjs.com/concepts/">Webpackçš„äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ</a></h1>
<ol>
<li>entryï¼šæŒ‡ç¤ºwebpackä»å“ªä¸ªå…¥å£å¼€å§‹æ‰“åŒ…ï¼Œåˆ†æå¹¶æ„å»ºå†…éƒ¨ä¾èµ–å›¾ã€‚</li>
<li>outputï¼šæŒ‡ç¤ºwebpackæ‰“åŒ…ä¹‹åçš„bundleæ–‡ä»¶ç”Ÿæˆåˆ°å“ªé‡Œå»ã€‚</li>
<li>loaderï¼šwebpackåªèƒ½å¤„ç†jså†…å®¹ï¼Œloaderçš„ä½œç”¨å°±æ˜¯å°†éjsçš„å†…å®¹ï¼ˆæ¯”å¦‚css/imageï¼‰è½¬æ¢æˆwebpackå¯ä»¥è¯†åˆ«çš„å†…å®¹ã€‚</li>
<li>pluginsï¼šç›¸è¾ƒäºloaderåªèƒ½ç”¨ä½œä»£ç ç¿»è¯‘ï¼Œpluginså¯ä»¥åšæ›´å¤šå¤æ‚å¼ºå¤§çš„äº‹æƒ…ã€‚</li>
<li>modeï¼šä¸»è¦åˆ†ä¸ºdevelopmentä»¥åŠproductionæ¨¡å¼ã€‚ç›¸è¾ƒäºç”Ÿäº§æ¨¡å¼ï¼Œå¼€å‘æ¨¡å¼çš„é…ç½®ä¼šæ¯”è¾ƒç®€å•ï¼Œå…·ä½“çš„åŒºåˆ«å¯ä»¥å‚ç…§ä¸‹è¡¨ï¼š<br>
| ç¯å¢ƒ | æè¿° | ç‰¹ç‚¹ |<br>
| ------ | ------ | ------ |<br>
| development | ä¼šå°† <code>process.env.NODE_ENV</code> çš„å€¼è®¾ä¸º <code>development</code>ã€‚<br>å¯ç”¨ <code>NamedChunksPlugin</code> å’Œ <code>NamedModulesPlugin</code>ã€‚  | èƒ½æœ¬åœ°è°ƒè¯• |<br>
| production | ä¼šå°† <code>process.env.NODE_ENV</code> çš„å€¼è®¾ä¸º <code>production</code>ã€‚<br>å¯ç”¨ <code>FlagDependencyUsagePlugin</code>, <code>FlagIncludedChunksPlugin</code>, <code>ModuleConcatenationPlugin</code>, <code>NoEmitOnErrorsPlugin</code>, <code>OccurrenceOrderPlugin</code>, <code>SideEffectsFlagPlugin</code> å’Œ <code>UglifyJsPlugin</code>ã€‚ | èƒ½ä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒçš„ä»£ç  |</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°äºŒï¼šWebpackåˆä½“éªŒ]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-er-webpack-chu-ti-yan/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-er-webpack-chu-ti-yan/">
        </link>
        <updated>2021-12-24T08:43:24.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>webpackçš„ä½¿ç”¨ä¾æ‰˜äºnodejsï¼Œæœ¬æ–‡åŠä¹‹åçš„ç¯‡å¹…é‡Œï¼Œä½¿ç”¨çš„nodeç‰ˆæœ¬ä¸ºï¼š<code>10.17.0</code>ã€‚</p>
</blockquote>
<h1 id="åˆå§‹åŒ–nodeé¡¹ç›®">åˆå§‹åŒ–nodeé¡¹ç›®</h1>
<p>å¼€å§‹ä¹‹å‰ï¼Œåˆ‡æ¢åˆ°å­˜æ”¾é¡¹ç›®çš„è·¯å¾„ï¼Œåœ¨æœ¬åœ°ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªnodeé¡¹ç›®ï¼Œæœ¬æ–‡æ˜¯åœ¨ <code>webpack-study</code> ç›®å½•ä¸‹ã€‚åˆå§‹åŒ–çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">cd webpack-study
npm init
</code></pre>
<p>æ ¹æ®æ­¥éª¤è®¾ç½®ä¸‹é¡¹ç›®åç§°ç­‰ä¸€äº›åŸºç¡€ä¿¡æ¯ï¼Œå…¶ä»–çš„æ­¥éª¤æŒ‰ç…§é»˜è®¤é…ç½®ä¸€è·¯å›è½¦åˆ°åº•å³å¯ã€‚åˆ›å»ºå®Œæˆåï¼Œåœ¨ <code>webpack-study</code> ç›®å½•ä¸‹ä¼šç”Ÿæˆæœ€åŸºæœ¬çš„package.jsonæ–‡ä»¶ã€‚</p>
<h1 id="åˆ›å»ºä»£ç ç›®å½•">åˆ›å»ºä»£ç ç›®å½•</h1>
<p>åœ¨ <code>webpack-study</code> ç›®å½•ä¸‹åˆ›å»º <code>src</code> ç›®å½•ï¼Œç”¨äºå­˜æ”¾æºä»£ç ã€‚å¹¶åœ¨srcä¸‹åˆ›å»ºindex.jsä½œä¸ºå…¥å£æ–‡ä»¶ï¼Œè¿™é‡Œå…ˆå†™ä¸€æ®µç®€å•çš„ä»£ç ç”¨ä½œç¤ºä¾‹ï¼š</p>
<pre><code class="language-js">const add = (x, y) =&gt; x + y
console.log(add(1, 2))
</code></pre>
<h1 id="å®‰è£…webpack">å®‰è£…Webpack</h1>
<pre><code class="language-js">npm i webpack webpack-cli
</code></pre>
<p>è¿™é‡Œé™¤äº†ç”¨åˆ° <code>webpack</code> ï¼Œæˆ‘ä»¬ä¹Ÿä¼šç”¨åˆ° <code>webpack-cli</code>, å®ƒæ˜¯webpackçš„è„šæ‰‹æ¶ã€‚</p>
<h1 id="åˆ›å»ºwebpacké…ç½®æ–‡ä»¶">åˆ›å»ºWebpacké…ç½®æ–‡ä»¶</h1>
<p>æƒ³è¦ä½¿ç”¨webpackå¯¹èµ„æºè¿›è¡Œæ‰“åŒ…ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦é…ç½®ä¸‹webpackçš„é…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>webpack.config.js</code> æ–‡ä»¶ã€‚ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬æåˆ°webpackçš„5ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œ(å¦‚æœå°è±¡ä¸æ˜¯å¾ˆæ·±çš„å°ä¼™ä¼´å¯ä»¥å›çœ‹ï¼š<a href="https://juejin.cn/post/6902441939560300558#heading-3">Webpackå­¦ä¹ ç¬”è®°ä¸€ï¼šä¸€äº›åŸºç¡€çŸ¥è¯†</a>ã€‚)ç°åœ¨æˆ‘ä»¬æ ¹æ®ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„5ä¸ªåŸºç¡€æ¦‚å¿µæ¥åˆ›å»ºä¸€ä¸ªç®€å•çš„webpacké…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="language-js">// å¼•å…¥nodeçš„pathæ¨¡å—
const { resolve } = require('path')

module.exports = {
    // å…¥å£æ–‡ä»¶
    entry: './src/index.js',
    // æ–‡ä»¶è¾“å‡ºé…ç½®
    output: {
    	// è¾“å‡ºçš„æ–‡ä»¶åç§°
        // é…ç½®[name]åˆ™å–çš„æ˜¯å…¥å£æ–‡ä»¶çš„åç§°
    	filename: 'js/[name].js',
        // è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„
        // è¿™é‡Œæ˜¯æŒ‡è¾“å‡ºåˆ°æ ¹ç›®å½•ä¸‹çš„buildç›®å½•ä¸‹ï¼Œå¦‚æœå¯¹__dirnameä¸æ˜¯å¾ˆäº†è§£çš„å°ä¼™ä¼´å¯ä»¥å»nodejså®˜ç½‘äº†è§£ä¸€ä¸‹
        path: resolve(__dirname, 'build')
    },
    // ç”¨äºé…ç½®loader
    module: {},
    // ç”¨äºé…ç½®æ’ä»¶ä¿¡æ¯
    plugins: [],
    // å¯ç”¨å¼€å‘æ¨¡å¼
    mode: 'development'
}
</code></pre>
<h1 id="æ·»åŠ æ‰“åŒ…å‘½ä»¤">æ·»åŠ æ‰“åŒ…å‘½ä»¤</h1>
<p>webpackçš„æ‰“åŒ…å‘½ä»¤å°±æ˜¯ <code>webpack</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æŒ‡ä»¤è„šæœ¬ä¸­æ·»åŠ ä¸€äº›è®¾ç½®å‚æ•°ï¼š</p>
<pre><code class="language-js">// å¼€å‘ç¯å¢ƒ
webpack ./src/index.js -o ./build/index.js --mode=development
// ç”Ÿäº§ç¯å¢ƒ
webpack ./src/index.js -o ./build/index.js --mode=production
</code></pre>
<p>ç¨å¾®è§£é‡Šä¸‹ä¸Šé¢çš„è„šæœ¬ï¼Œä¸Šè¿°è„šæœ¬çš„å«ä¹‰æ˜¯ï¼šwebpackä½¿ç”¨ <code>å¼€å‘/ç”Ÿäº§</code> æ¨¡å¼( <code>mode</code> )ï¼Œå°† <code>./src/index.js</code> æ‰“åŒ…è¾“å‡º( <code>-o</code> )åˆ° <code>./build/index.js</code> ä¸­ã€‚<br><br>
ç»†å¿ƒçš„å°ä¼™ä¼´å„¿åº”è¯¥å·²ç»å‘ç°ï¼Œä¸Šè¿°ä¸¤ç§æŒ‡ä»¤çš„å”¯ä¸€åŒºåˆ«åœ¨äº <code>mode</code> çš„å‚æ•°ä¸åŒï¼Œä¸€ä¸ªæ˜¯ <code>development</code>,ä»£è¡¨å¼€å‘ç¯å¢ƒ; å¦ä¸€ä¸ªæ˜¯ <code>production</code> ï¼Œä»£è¡¨ç”Ÿäº§ç¯å¢ƒã€‚é‚£ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ<br><br>
æˆ‘ä»¬å…ˆå°†ä¸¤ç§æŒ‡ä»¤é…ç½®åˆ° <code>package.json</code> çš„ <code>scripts</code> ä¸­ï¼Œæ–¹ä¾¿æˆ‘ä»¬åæœŸå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>npm</code> æˆ–è€… <code>yarn</code> å‘½ä»¤æ¥æ‰§è¡Œå®ƒä»¬ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å°†è¿™ä¸¤ç§æŒ‡ä»¤å¤åˆ¶åˆ°æ§åˆ¶å°ä¸­è¿è¡Œï¼Œä½†æ˜¯æ˜¾ç„¶è¿™æ ·å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿äº†ã€‚</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;webpack_study&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;build:dev&quot;: &quot;webpack ./src/index -o ./build/index.js --mode=development&quot;,
    &quot;build:prd&quot;: &quot;webpack ./src/index -o ./build/index.js --mode=production&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;webpack&quot;: &quot;4.41.6&quot;,
    &quot;webpack-cli&quot;: &quot;3.3.11&quot;
  }
}
</code></pre>
<p>ç„¶åæˆ‘ä»¬åˆ†åˆ«é€šè¿‡æ‰§è¡Œ <code>build:dev</code> ä»¥åŠ <code>build:prd</code> æ¥çœ‹ä¸‹æ‰“åŒ…åçš„åŒºåˆ«ã€‚</p>
<blockquote>
<p>Tips: <br><br>
å¯èƒ½æœ‰å°ä¼™ä¼´æ³¨æ„åˆ°äº†ï¼Œåœ¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸­é…ç½®äº† <code>mode: 'development'</code>ï¼Œè€Œåœ¨æˆ‘ä»¬ <code>package.json</code> çš„æŒ‡ä»¤ä¸­ä¹ŸæŒ‡å®šäº† <code>--mode='development'</code>ï¼Œé‚£ä¹ˆä¸¤è€…ç©¶ç«Ÿä»¥è°ä¸ºå‡†å‘¢ï¼Ÿ<br><br>
ç­”æ¡ˆæ˜¯ä»¥ <code>package.json</code> ä¸­é…ç½®çš„ä¸ºå‡†ã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»è¯•è¯•çœ‹~</p>
</blockquote>
<h2 id="builddev">build:dev</h2>
<pre><code class="language-js">npm run build:dev
</code></pre>
<p>è¿è¡Œè¿™ä¸ªæŒ‡ä»¤åï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•çš„ <code>build/js</code> è·¯å¾„ä¸‹å¯ä»¥çœ‹åˆ°æ‰“åŒ…åç”Ÿæˆçš„ <code>index.js</code> æ–‡ä»¶ã€‚æ‰“å¼€è¿™ä¸ªæ–‡ä»¶:</p>
<pre><code class="language-js">/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' &amp;&amp; Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode &amp; 1: value is a module id, require it
/******/ 	// mode &amp; 2: merge all properties of value into the ns
/******/ 	// mode &amp; 4: return value when already ns object
/******/ 	// mode &amp; 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode &amp; 1) value = __webpack_require__(value);
/******/ 		if(mode &amp; 8) return value;
/******/ 		if((mode &amp; 4) &amp;&amp; typeof value === 'object' &amp;&amp; value &amp;&amp; value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode &amp; 2 &amp;&amp; typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module &amp;&amp; module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = &quot;&quot;;
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = &quot;./src/js/index.js&quot;);
/******/ })
/************************************************************************/
/******/ ({

/***/ &quot;./src/js/index.js&quot;:
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval(&quot;const add = (x, y) =&gt; x + y;\n\nconsole.log(add(1, 2));\n\n\n//# sourceURL=webpack:///./src/js/index.js?&quot;);

/***/ })

/******/ });
</code></pre>
<p>æ»‘åŠ¨åˆ°æœ€åº•éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¹‹å‰å†™çš„ä»£ç è¢«è½¬æ¢æˆäº†å­—ç¬¦ä¸²å½¢å¼å†™å…¥åˆ°äº† <code>eavl</code> æ–¹æ³•ä¸­ï¼Œå¹¶ä¸”ä»¥ <code>æºç è·¯å¾„</code> ä¸ºkeyï¼ŒåŒæ—¶å°†ä¹‹ä½œä¸ºvalueï¼Œä»¥å¯¹è±¡çš„å½¢å¼ä½œä¸ºå…¥å‚ï¼Œä¼ å…¥æ‰“åŒ…ç”Ÿæˆçš„æ–¹æ³•ä¸­ã€‚</p>
<h2 id="buildprd">build:prd</h2>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸‹é€šè¿‡è¿è¡Œ <code>build:prd</code> æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼š</p>
<pre><code class="language-js">npm run build:prd
</code></pre>
<p>è¿è¡Œå®Œæˆåç”Ÿæˆå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-js">!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){&quot;undefined&quot;!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:&quot;Module&quot;}),Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})},n.t=function(e,t){if(1&amp;t&amp;&amp;(e=n(e)),8&amp;t)return e;if(4&amp;t&amp;&amp;&quot;object&quot;==typeof e&amp;&amp;e&amp;&amp;e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,&quot;default&quot;,{enumerable:!0,value:e}),2&amp;t&amp;&amp;&quot;string&quot;!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&amp;&amp;e.__esModule?function(){return e.default}:function(){return e};return n.d(t,&quot;a&quot;,t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=&quot;&quot;,n(n.s=0)}([function(e,t){console.log(1+2)}]);
</code></pre>
<p>æˆ‘ä»¬å‘ç°ä»£ç ç²¾ç®€äº†è®¸å¤šï¼Œæ²¡æœ‰äº†æ³¨é‡Šï¼Œæ²¡æœ‰äº†ç©ºæ ¼æŠ˜è¡Œï¼Œæ˜¾ç„¶ä»£ç è¢«å‹ç¼©è¿‡äº†ã€‚ç”±æ­¤å¯ä»¥å¾—å‡ºç»“è®ºï¼š</p>
<blockquote>
<p>ç›¸è¾ƒäºdevelopmentæ¨¡å¼ï¼Œproductionæ¨¡å¼ä¼šå¯¹æ‰“åŒ…åçš„ä»£ç è¿›è¡Œå‹ç¼©ã€‚ä¸»è¦æ˜¯å› ä¸ºproductionæ¨¡å¼ä¸‹å¯ç”¨äº†webpackçš„ <code>UglifyJsPlugin</code> æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶çš„ä½œç”¨å°±æ˜¯å¯¹ä»£ç è¿›è¡Œå‹ç¼©ã€‚</p>
</blockquote>
<h1 id="æ§åˆ¶å°è¾“å‡ºä¿¡æ¯">æ§åˆ¶å°è¾“å‡ºä¿¡æ¯</h1>
<p>æ‰“åŒ…å®Œæˆåï¼Œè®©æˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œå†æ¥ä¸€èµ·çœ‹ä¸‹æ§åˆ¶å°ä¸­æ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œå¹¶å¯¹è¿™äº›ä¿¡æ¯åšä¸€ä¸ªç®€å•çš„äº†è§£ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹åˆšæ‰æ‰“åŒ…å®Œæˆåçš„æ§åˆ¶å°è¾“å‡º:</p>
<figure data-type="image" tabindex="1"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f2ba8e9346040388a50d65a6c7b9d46~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
<p>æˆ‘ä»¬ä¾æ¬¡çœ‹ä¸‹è¿™äº›å‚æ•°çš„å«ä¹‰ï¼š</p>
<blockquote>
<p>Hash: æ‰“åŒ…ä¹‹åç”Ÿæˆçš„å”¯ä¸€IDï¼Œåç»­å¯ç”¨ä½œæ–‡ä»¶åä¸­çš„å”¯ä¸€è¡¨ç¤ºï¼Œé˜²æ­¢è®¿é—®ç¼“å­˜ï¼›<br><br>
Version: webpackçš„ç‰ˆæœ¬ï¼›<br><br>
Time:  æ‰“åŒ…æ‰€è€—çš„æ—¶é—´ï¼›<br><br>
Built at: æ‰“åŒ…å¼€å§‹çš„æ—¶é—´; <br><br>
Assetï¼šæ‰“åŒ…çš„èµ„æºï¼›<br><br>
Sizeï¼šæ–‡ä»¶å¤§å°ï¼›<br><br>
Chunks: æ‰€å±çš„chunkåç§°ï¼›<br><br>
Chunk Namesï¼šchunkåç§°ï¼›<br><br>
EntryPoint main: å…¥å£æ–‡ä»¶åç§°ï¼›<br><br>
[....]:  å‚ä¸æ‰“åŒ…çš„æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„é™æ€æ¨¡å—ã€‚</p>
</blockquote>
<p>è¡Œæ–‡è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†ç®€å•çš„webpackæ‰“åŒ…åŠŸèƒ½ï¼Œå¹¶ä¸”å¯¹webpackçš„ä¸€äº›åŸºæœ¬é…ç½®ã€æ‰“åŒ…å‘½ä»¤ä»¥åŠä¸åŒæ¨¡å¼ä¸‹æ‰“åŒ…çš„åŒºåˆ«åšäº†ä¸€ä¸ªç®€å•çš„äº†è§£ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬å¯¹æ§åˆ¶å°ä¸­è¾“å‡ºä¿¡æ¯çš„å«ä¹‰ä¹Ÿäº†ç„¶äºèƒ¸ã€‚<br><br>
åœ¨åé¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä¼šä¾æ¬¡ä»‹ç»webpackçš„å…¶ä»–åŠŸèƒ½ï¼Œå€Ÿæ­¤å¯ä»¥å¸®åŠ©å¤§å®¶é€æ­¥ç†Ÿæ‚‰webpackçš„é…ç½®ï¼Œè®©å°ä¼™ä¼´ä»¬åœ¨ä¹‹åçš„å¼€å‘è¿‡ç¨‹ä¸­ä¸ä¼šå†å¯¹webpackçš„é…ç½®æ„Ÿåˆ°æ™¦æ¶©é™Œç”Ÿã€‚ç¯‡å¹…ä¹Ÿè®¸ä¸ä¼šå¤ªé•¿ï¼Œä½†æ˜¯å¸Œæœ›å¯¹å°ä¼™ä¼´ä»¬æœ‰æ‰€åŠ©ç›Š~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°ä¸‰ï¼šjsçš„å…¼å®¹æ€§å¤„ç†]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-san-js-de-jian-rong-xing-chu-li/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-san-js-de-jian-rong-xing-chu-li/">
        </link>
        <updated>2021-12-24T08:42:42.000Z</updated>
        <content type="html"><![CDATA[<p><a href="https://juejin.cn/post/6903529588271136782">ä¸Šä¸€èŠ‚</a>ä¸­æˆ‘ä»¬ç®€å•å®ç°äº†webpackçš„æ‰“åŒ…åŠŸèƒ½ï¼Œå¹¶ä¸”å¯¹webpackçš„ä¸€äº›åŸºæœ¬é…ç½®ã€æ‰“åŒ…å‘½ä»¤ä»¥åŠä¸åŒæ¨¡å¼ä¸‹æ‰“åŒ…çš„åŒºåˆ«åšäº†ä¸€ä¸ªç®€å•çš„äº†è§£ï¼Œä¹Ÿäº†è§£äº†ä¸‹æ§åˆ¶å°è¾“å‡ºä¿¡æ¯çš„å«ä¹‰ã€‚æ¥ä¸‹æ¥çš„å‡ èŠ‚æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£ä¸‹ï¼Œé’ˆå¯¹äºä¸åŒç±»å‹çš„èµ„æºï¼Œwebpackæ˜¯å¦‚ä½•è¿›è¡Œç¼–è¯‘æ‰“åŒ…çš„ï¼Œåœ¨æ‰“åŒ…æœŸé—´åˆéœ€è¦åšä¸€äº›ä»€ä¹ˆå¤„ç†ã€‚</p>
<h1 id="jså…¼å®¹æ€§å¤„ç†">jså…¼å®¹æ€§å¤„ç†</h1>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å†™äº†ä¸€æ®µç®€å•çš„jsä»£ç ï¼Œç”¨æ¥åšæ‰“åŒ…ç¤ºä¾‹ï¼Œå¹¶å¯¹jsçš„æ‰“åŒ…æœ‰äº†åˆæ­¥çš„äº†è§£ï¼š</p>
<pre><code class="language-js">const add = (x, y) =&gt; x + y
console.log(add(1, 2))
</code></pre>
<p>æˆ‘ä»¬æˆªå–æ‰“åŒ…åçš„ä»£ç ï¼š</p>
<pre><code class="language-js">eval(&quot;const add = (x, y) =&gt; x + y;\n\nconsole.log(add(1, 2));\n\n\n//# sourceURL=webpack:///./src/js/index.js?&quot;);
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ‰“åŒ…å‡ºæ¥çš„ä»£ç ä¸­ï¼Œ<code>add</code> çš„å®šä¹‰ä¾æ—§æ˜¯ä½¿ç”¨çš„ <code>const</code>ï¼Œè€Œä¸æ˜¯å…¼å®¹æ€§æœ€å¥½çš„ <code>var</code>ã€‚ç°é˜¶æ®µï¼Œåœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­åŸºæœ¬ä¸Šä½¿ç”¨çš„éƒ½æ˜¯ES6è¯­æ³•ï¼Œä½†æ˜¯ä¸€äº›ç‰ˆæœ¬è¾ƒä½çš„æµè§ˆå™¨å¹¶ä¸èƒ½å®Œå…¨å…¼å®¹ES6è¯­æ³•ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±è¦å¯¹jsä»£ç åšå…¼å®¹æ€§å¤„ç†ã€‚<br><br>
è¦å¯¹jsåšå…¼å®¹æ€§å¤„ç†ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸¤ä¸ªå·¥å…·ï¼š<code>babel-loader</code> ä»¥åŠ <code>@babel/core</code>ã€‚æˆ‘ä»¬å…ˆæ¥å®‰è£…ä¸‹è¿™ä¸¤ä¸ªå·¥å…·ï¼š</p>
<pre><code class="language-js">yarn add babel-loader @babel/core
</code></pre>
<p>å®‰è£…å®Œæˆåè¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°webpackäº”ä¸ªåŸºæœ¬æ¦‚å¿µä¸­çš„ <code>loader</code>ã€‚åœ¨ä¸Šä¸€ç¯‡é…ç½®çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åŠ å…¥ <code>loader</code> çš„é…ç½®ã€‚<code>loader</code> çš„ç›¸å…³é…ç½®å†™åˆ°é…ç½®æ–‡ä»¶çš„ <code>module</code> ä¸­ï¼š</p>
<pre><code class="language-js">// å¼•å…¥nodeçš„pathæ¨¡å—
const { resolve } = require('path')

module.exports = {
    // å…¥å£æ–‡ä»¶
    entry: './src/index.js',
    // æ–‡ä»¶è¾“å‡ºé…ç½®
    output: {
    	// è¾“å‡ºçš„æ–‡ä»¶åç§°
        // é…ç½®[name]åˆ™å–çš„æ˜¯å…¥å£æ–‡ä»¶çš„åç§°
    	filename: 'js/[name].js',
        // è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„
        // è¿™é‡Œæ˜¯æŒ‡è¾“å‡ºåˆ°æ ¹ç›®å½•ä¸‹çš„buildç›®å½•ä¸‹ï¼Œå¦‚æœå¯¹__dirnameä¸æ˜¯å¾ˆäº†è§£çš„å°ä¼™ä¼´å¯ä»¥å»nodejså®˜ç½‘äº†è§£ä¸€ä¸‹
        path: resolve(__dirname, 'build')
    },
    // ç”¨äºé…ç½®loader
    module: {
      rules: [
      	{
          // åŒ¹é….jsæ–‡ä»¶
          test: /\.js$/,
          // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥, ä¼šé™ä½æ‰“åŒ…çš„æ€§èƒ½
          exclude: /node_modules/, 
          // ä½¿ç”¨babel-loader
          loader: 'babel-loader',
          // loaderçš„ç›¸å…³é…ç½®
          options: {}
        }
      ]
    },
    // ç”¨äºé…ç½®æ’ä»¶ä¿¡æ¯
    plugins: [],
    // å¯ç”¨å¼€å‘æ¨¡å¼
    mode: 'development'
}
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬è¿è¡Œ <code>yarn build:dev</code> å‘½ä»¤ï¼Œæˆ‘ä»¬ä¼šå‘ç°ç»“æœè·Ÿä¹‹å‰æ˜¯ä¸€æ ·çš„ï¼ŒES6çš„ä»£ç å¹¶æ²¡æœ‰è¢«è½¬æ¢ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰â€œå‘Šè¯‰â€ <code>babel-loader</code> è¦æ€ä¹ˆå»åšå…¼å®¹æ€§å¤„ç†ã€‚é‚£å…·ä½“è¯¥æ€ä¹ˆå»å¤„ç†jsçš„å…¼å®¹æ€§é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p>
<h1 id="å¤„ç†jså…¼å®¹çš„ä¸‰ç§æ–¹å¼">å¤„ç†jså…¼å®¹çš„ä¸‰ç§æ–¹å¼</h1>
<p>é’ˆå¯¹jsçš„å…¼å®¹æ€§å¤„ç†ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¾æ¬¡æ¥äº†è§£ä¸€ä¸‹ã€‚</p>
<h2 id="æ–¹æ³•ä¸€åŸºæœ¬å…¼å®¹æ€§å¤„ç†">æ–¹æ³•ä¸€ï¼šåŸºæœ¬å…¼å®¹æ€§å¤„ç†</h2>
<p>åŸºæœ¬å…¼å®¹æ€§å¤„ç†æ˜¯æŒ‡å¯ä»¥å¤„ç†ä¸€äº›åŸºæœ¬çš„jså…¼å®¹æ€§é—®é¢˜ï¼Œæ¯”å¦‚jsä¸­çš„const/letå®šä¹‰çš„è½¬æ¢ï¼Œç®­å¤´å‡½æ•°çš„è½¬æ¢ç­‰ç­‰ã€‚æ­¤æ—¶æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªå·¥å…·ï¼š<code>@babel/preset-env</code>ã€‚è¿™ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤„ç†ä¸€äº›åŸºæœ¬çš„jså…¼å®¹æ€§é—®é¢˜ã€‚</p>
<pre><code class="language-js">yarn add -D @babel/preset-env
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åœ¨ <code>babel-loader</code> çš„ <code>options</code> ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">/* ... */
module: {
  rules: [
    {
      // åŒ¹é….jsæ–‡ä»¶
      test: /\.js$/,
      // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥, ä¼šé™ä½æ‰“åŒ…çš„æ€§èƒ½
      exclude: /node_modules/, 
      // ä½¿ç”¨babel-loader
      loader: 'babel-loader',
      // loaderçš„ç›¸å…³é…ç½®
      options: {
        presets: ['@babel/preset-env']
      }
    }
  ]
},
/* ... */
</code></pre>
<p>é…ç½®å®Œæˆå ï¼Œæˆ‘é¢å†å»æ‰§è¡Œåˆšæ‰çš„æ‰“åŒ…å‘½ä»¤, ç„¶åæˆªå–å‡ºæˆ‘ä»¬æ‰€å†™çš„ä»£ç ï¼š</p>
<pre><code class="language-js">eval(&quot;var add = function add(x, y) {\n  return x + y;\n};\n\nconsole.log(add(1, 2));\n\n//# sourceURL=webpack:///./src/js/index.js?&quot;);
</code></pre>
<p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä»£ç ä¸­çš„ <code>const</code> å£°æ˜å·²ç»è¢«è½¬æ¢æˆäº† <code>var</code>, è€ŒåŸå…ˆçš„ <code>ç®­å¤´å‡½æ•°</code> ä¹Ÿè¢«è½¬æ¢æˆäº†æ™®é€šçš„å‡½æ•°å½¢å¼ã€‚è¯´æ˜loaderå·²ç»ç”Ÿæ•ˆäº†ã€‚<br><br>
åœ¨ä»‹ç»è¿™ç§å…¼å®¹æ€§å¤„ç†æ–¹å¼çš„æ—¶å€™æœ‰æåˆ°è¿‡æ­¤ç§æ–¹å¼åªèƒ½å¤„ç†ä¸€äº›åŸºæœ¬çš„jsé—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬åœ¨æ–‡ä»¶ä¸­åŠ å…¥ä¸€äº›ç¨å¾®å¤æ‚çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ <code>Promise</code>ï¼Œ ç„¶åæ‰§è¡Œæ‰“åŒ…ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>
<pre><code class="language-js">const add = (x, y) =&gt; x + y;
console.log(add(1, 2));

const promiseHandle = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve('å®Œæˆ');
  }, 1000)
})
console.log(promiseHandle);
</code></pre>
<p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹æˆ‘ä»¬æ‰€å†™çš„ä»£ç ï¼š</p>
<pre><code class="language-js">eval(&quot;var add = function add(x, y) {\n  return x + y;\n};\n\nconsole.log(add(1, 2));\nvar promiseHandle = new Promise(function (resolv
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç±»ä¼¼äº <code>const</code> ä»¥åŠ <code>ç®­å¤´å‡½æ•°</code> çš„å®šä¹‰éƒ½è¢«è½¬æ¢æˆäº†ES5çš„è¯­æ³•ï¼Œä½†æ˜¯ <code>Promise</code> çš„å†…å®¹å¹¶æ²¡æœ‰è¢«è½¬æ¢ï¼Œè€Œä¸”ä»£ç ä¸­ä¹Ÿæ²¡æœ‰å…¶ä»–å¯¹ <code>Promise</code> è¿›è¡Œå¤„ç†çš„æ–¹æ³•ã€‚æ­¤æ—¶è¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿè«æ…Œï¼Œæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒç§jsçš„å…¼å®¹æ€§å¤„ç†æ–¹å¼ã€‚</p>
<h2 id="æ–¹æ³•äºŒbabelpolyfill">æ–¹æ³•äºŒï¼š@babel/polyfill</h2>
<p>å¦‚é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¦å¤–ä¸€ç§å·¥å…·ï¼š<code>@babel/polyfill</code>ã€‚è¿™ç§å…¼å®¹æ–¹æ³•æ¯”è¾ƒå…¨é¢ï¼Œå®ƒå¯ä»¥å¯¹ <strong>å…¨éƒ¨js</strong> åšå…¼å®¹æ€§å¤„ç†ã€‚</p>
<pre><code class="language-js">yarn add -D @babel/polyfill
</code></pre>
<p>è¿™ä¸ªå·¥å…·ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œå®‰è£…å®Œæˆåï¼Œåªéœ€åœ¨éœ€è¦ä½¿ç”¨çš„jsæ–‡ä»¶ä¸­å¼•å…¥å³å¯ã€‚æˆ‘ä»¬åœ¨åˆšæ‰çš„jsæ–‡ä»¶åŸºç¡€ä¸Šï¼Œå¼•å…¥è¿™ä¸ªåŒ…ã€‚</p>
<pre><code class="language-js">import '@babel/polyfill'

const add = (x, y) =&gt; x + y;
console.log(add(1, 2));

const promiseHandle = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve('å®Œæˆ');
  }, 1000)
})
console.log(promiseHandle);
</code></pre>
<p>å†æ¬¡æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‰“å¼€æ‰“åŒ…ä¹‹åçš„jsæ–‡ä»¶ï¼Œä¼šå‘ç°jsæ–‡ä»¶ä¸­å¼•å…¥äº†å¤§é‡çš„polyfillæ¥å¯¹jså…¼å®¹æ€§çš„å¤„ç†ï¼Œå…¶ä¸­å°±æœ‰å¯¹Promiseçš„å…¼å®¹å¤„ç†(ç”±äºå†…å®¹å¤ªé•¿ï¼Œæ­¤å¤„å°±ä¸è´´ä»£ç äº†ï¼Œå»ºè®®å°ä¼™ä¼´ä»¬åŠ¨æ‰‹è¯•ä¸€ä¸‹~)ã€‚æ­¤ç§æ–¹å¼å¯ä»¥è§£å†³æˆ‘ä»¬ç¬¬ä¸€ç§å…¼å®¹æ€§å¤„ç†ä¸­çš„é—®é¢˜ã€‚<br><br>
ä½†æ˜¯ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼åˆä¼šå¼•å‘å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹æ‰“åŒ…åçš„æ–‡ä»¶è¾“å‡ºï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/816a05df0ea642a38d0367050c9552ed~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
<p>ä¸éš¾å‘ç°ï¼Œç”±äºå¼•å…¥äº†å¤§é‡çš„polyfillï¼Œå¯¼è‡´æˆ‘ä»¬åŸå…ˆä»…ä»…åªæœ‰å‡ kçš„æ–‡ä»¶ï¼Œè†¨èƒ€åˆ°äº†511k, å› ä¸ºå¼•å…¥çš„polyfillå›Šæ‹¬äº†æ‰€æœ‰çš„å…¼å®¹æ€§å¤„ç†ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æ„¿æ„çœ‹åˆ°çš„ã€‚è€Œä¸”äº‹å®ä¸Šæˆ‘ä»¬ä¹Ÿç”¨ä¸åˆ°è¿™ä¹ˆå¤šçš„å…¼å®¹æ€§å¤„ç†ã€‚é‚£æˆ‘ä»¬åˆè¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹ç¬¬ä¸‰ç§å…¼å®¹æ€§å¤„ç†æ–¹æ¡ˆã€‚</p>
<h2 id="æ–¹æ³•ä¸‰core-js">æ–¹æ³•ä¸‰ï¼šcore-js</h2>
<p>è¯´ç™½äº†ï¼Œè¦è§£å†³æ–¹æ³•äºŒä¸­çš„å¼Šç«¯ï¼Œæ ¸å¿ƒæ€è·¯å°±æ˜¯ <code>æŒ‰éœ€å¼•å…¥</code>ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° <code>code-js</code>ã€‚å…¶å®åœ¨æ–¹æ³•äºŒä¸­ç”¨åˆ°çš„ <code>@babel/polyfill</code>ä¸­ä¹Ÿæœ‰å®ƒçš„å½±å­, æœ‰å…´è¶£çš„å°ä¼™ä¼´ä»¬å¯ä»¥å»æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ä¸­æ‰¾æ‰¾çœ‹~è¿™é‡Œæˆ‘ä»¬å•ç‹¬å®‰è£…ä¸€ä»½ <code>core-js</code>:</p>
<pre><code class="language-js">yarn add -D core-js
</code></pre>
<p>æƒ³è¦ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦å¯¹åˆšæ‰çš„ <code>babel-loader</code> é…ç½®å†è¿›è¡Œä¸€äº›æ”¹é€ ï¼š</p>
<pre><code class="language-js">/* ... */
module: {
  rules: [
    {
      // åŒ¹é….jsæ–‡ä»¶
      test: /\.js$/,
      // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥, ä¼šé™ä½æ‰“åŒ…çš„æ€§èƒ½
      exclude: /node_modules/, 
      // ä½¿ç”¨babel-loader
      loader: 'babel-loader',
      // loaderçš„ç›¸å…³é…ç½®
      options: {
        &quot;presets&quot;: [
          [
            &quot;@babel/preset-env&quot;,
            {
              // æŒ‡å®šæŒ‰éœ€åŠ è½½
              &quot;useBuiltIns&quot;: &quot;usage&quot;,
              // æŒ‡å®šcore-jsçš„ç‰ˆæœ¬
              &quot;corejs&quot;: {
                &quot;version&quot;: 3
              },
              // æŒ‡å®šå…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬
              &quot;targets&quot;: {
                &quot;chrome&quot;: &quot;60&quot;,
                &quot;firefox&quot;: &quot;60&quot;,
                &quot;ie&quot;: &quot;9&quot;,
                &quot;safari&quot;: &quot;10&quot;,
                &quot;edge&quot;: &quot;17&quot;
              }
            }
          ]
        ]
      }
    }
  ]
},
/* ... */
</code></pre>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æŒ‡å®šäº†æŒ‰éœ€åŠ è½½ï¼ŒæŒ‡å®šäº†coreJsçš„ç‰ˆæœ¬æ˜¯3ï¼ŒæŒ‡å®šäº†éœ€è¦å…¼å®¹çš„å…·ä½“çš„æµè§ˆå™¨çš„ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä½¿ç”¨è¿™ç§æ–¹å¼çš„æ—¶å€™ï¼Œéœ€è¦æŠŠç¬¬äºŒç§æ–¹å¼ä¸­å¼•å…¥çš„@babel/polyfillæ³¨é‡Šæ‰ï¼Œä¸¤è€…ä¸å¯å…±ç”¨ï¼ï¼</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬å†æ¬¡è¿›è¡Œæ‰“åŒ…ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c69c325e1b14ecb9a607f7e39156d07~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
<p>å†æ¬¡æ‰“åŒ…åæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒPromiseçš„å…¼å®¹æ€§å¤„ç†ä¼šè¢«å¼•å…¥è¿›æ¥ï¼Œå¹¶ä¸”æ–‡ä»¶å¤§å°ä¹Ÿç¼©å°è‡³105k, ç›¸è¾ƒäºç¬¬äºŒç§æ–¹å¼ï¼Œæ˜¾ç„¶æ­¤ç§æ–¹å¼æ›´ä½³~å¦‚æœæœ‰å°ä¼™ä¼´è§‰å¾—è¿™æ ·é…ç½®æ˜¾å¾—ä»£ç æœ‰äº›å†—ä½™ï¼Œä¸å¤Ÿä¼˜é›…ï¼Œæˆ‘ä»¬ä¹Ÿå¯å°† <code>presets</code> ä¸­é…ç½®çš„å†…å®¹ç§»åŠ¨åˆ°æ ¹ç›®å½•çš„ <code>.babelrc</code> æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="language-json">{
  &quot;presets&quot;: [
    [
      &quot;@babel/preset-env&quot;,
      {
        // æŒ‡å®šæŒ‰éœ€åŠ è½½
        &quot;useBuiltIns&quot;: &quot;usage&quot;,
        // æŒ‡å®šcore-jsçš„ç‰ˆæœ¬
        &quot;corejs&quot;: {
          &quot;version&quot;: 3
        },
        // æŒ‡å®šå…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬
        &quot;targets&quot;: {
          &quot;chrome&quot;: &quot;60&quot;,
          &quot;firefox&quot;: &quot;60&quot;,
          &quot;ie&quot;: &quot;9&quot;,
          &quot;safari&quot;: &quot;10&quot;,
          &quot;edge&quot;: &quot;17&quot;
        }
      }
    ]
  ]
}
</code></pre>
<p>è¡Œæ–‡è‡³æ­¤ï¼Œjsçš„æ‰“åŒ…æ–¹å¼ä»¥åŠå¤„ç†å…¼å®¹çš„å‡ ç§æ–¹å¼éƒ½å·²ç»ä»‹ç»å®Œæ¯•ã€‚å½“ç„¶loaderçš„é…ç½®ä¸æ­¢è¿™äº›ï¼Œåœ¨æ—¥åçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦å»æŸ¥è¯¢å¯¹åº”loaderçš„æ–‡æ¡£ï¼Œæ¥å®šåˆ¶åŒ–é€‚åˆè‡ªå·±é¡¹ç›®çš„é…ç½®ã€‚<br><br>
å¤„ç†å®Œjsçš„å…¼å®¹æ€§é—®é¢˜ï¼Œé‚£ä¹ˆå¼€å‘å›¢é˜Ÿåœ¨æ—¥å¸¸å¼€å‘ä¸­çš„jsé£æ ¼ç»Ÿä¸€åŒ–åˆè¯¥æ€ä¹ˆå»å¤„ç†ï¼Ÿä¸€äº›å®¹æ˜“çŠ¯çš„ä½çº§é”™è¯¯åˆè¯¥æ€ä¹ˆå»é¿å…å‘¢ï¼Ÿä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°±æ¥ä»‹ç»å¤„ç†è¿™äº›é—®é¢˜çš„æ–¹æ³•~<br><br>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/90b2c8f2bb0447828ffbea8e6eab02a6~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°å››ï¼šeslintè¯­æ³•æ£€æŸ¥]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-si-eslint-yu-fa-jian-cha/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-si-eslint-yu-fa-jian-cha/">
        </link>
        <updated>2021-12-24T08:42:08.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨<a href="https://juejin.cn/post/6903910160184868878">ä¸Šä¸€èŠ‚</a>æ–‡ç« æœ«å°¾ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œ<strong>æˆ‘ä»¬è¦å¦‚ä½•æ§åˆ¶ä»£ç é£æ ¼çš„ç»Ÿä¸€ï¼Œé¿å…ä¸€äº›ä½çº§é”™è¯¯</strong>ã€‚è¿™ä¸€èŠ‚æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸‹è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼š<strong>eslintè¯­æ³•æ£€æŸ¥</strong>ã€‚</p>
<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1>
<p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé¡¹ç›®ä¸€èˆ¬éƒ½æ˜¯å¤šäººåˆä½œã€‚ä¸ºäº†ä¿è¯ä»£ç çš„ç»Ÿä¸€å’Œè§„èŒƒï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©eslintå»å®Œæˆã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°<code>eslint-loader</code> ä»¥åŠ <code>eslint</code>ã€‚</p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D eslint eslint-loader
</code></pre>
<h3 id="åŸºæœ¬é…ç½®">åŸºæœ¬é…ç½®</h3>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨webpack.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">/* ... */
module: {
  rules: [
    {
        test: /\.js$/,
        exclude: /node_modules/, // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥
        loader: 'eslint-loader',
        options: {}
    }
  ]
}
/* ... */
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œeslintè¿˜éœ€è¦çŸ¥é“å…·ä½“çš„è§„åˆ™æ˜¯ä»€ä¹ˆã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>package.json</code> æ–‡ä»¶ä¸­é…ç½® <code>eslintConfig</code> å±æ€§ï¼Œæˆ–è€…åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ  <code>.eslintrc</code> æ–‡ä»¶æ¥é…ç½®eslintçš„è§„åˆ™ã€‚<br><br>
ä½†æ˜¯æ‰‹åŠ¨é…ç½®è§„åˆ™æ˜¾ç„¶æ¯”è¾ƒéº»çƒ¦ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹çš„å·¥å…·æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>airbnb</code> çš„é…ç½®ã€‚<br><br>
æƒ³è¦ä½¿ç”¨airbnbçš„eslintè§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å‡ ä¸ªæ’ä»¶ï¼š<code>eslint-config-arbnb-base</code> ä¸ <code>eslint-plugin-import</code>ã€‚</p>
<pre><code class="language-js">yarn add -D eslint-config-airbnb-base  eslint-plugin-import
</code></pre>
<p>ä¹‹ååœ¨ <code>package.json</code> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">&quot;eslintConfig&quot;: {
  &quot;extends&quot;: &quot;airbnb-base&quot;
}
</code></pre>
<p>æˆ–è€…åœ¨ <code>.eslintrc</code> æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<pre><code class="language-js"> &quot;extends&quot;: &quot;airbnb-base&quot;
</code></pre>
<p>è¿™æ ·å°±ä¼šç»§æ‰¿airbnbçš„eslinté…ç½®ã€‚å†æ¬¡æ‰“åŒ…æˆ–è€…è¿è¡Œæ—¶ï¼Œæ§åˆ¶å°å°±ä¼šç»™å‡ºç›¸åº”çš„æŠ¥é”™æç¤ºï¼š<br>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d666da14a1b644da8d910166ffd750a3~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
<blockquote>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ  <code>VScode</code>, æˆ–è€…å°ä¼™ä¼´ä»¬æ‰€ç”¨çš„å…¶ä»–IDEçš„ <code>ESlintæ’ä»¶</code> å»è¾…åŠ©æˆ‘ä»¬æ—¥å¸¸çš„å¼€å‘ã€‚åœ¨è¿™é‡Œï¼Œç¬”è€…ä½¿ç”¨çš„æ˜¯ <code>VScode</code>ï¼Œå¦‚æœæœ‰è·Ÿç¬”è€…ä¸€æ ·ä½¿ç”¨è¿™ä¸ªIDEçš„å°ä¼™ä¼´ï¼Œæ¨èå®‰è£…è¿™ä¸ªæ’ä»¶ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9eae5c1e455844d3b3ab03fdefe8bd0f~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
<p>å®‰è£…å¹¶å¯ç”¨è¿™ä¸ªæ’ä»¶ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­çœ‹åˆ°eslintç»™å‡ºçš„ç›¸åº”æç¤ºï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7187fa4a4f9473d801b9d3d439709bb~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
<p>å½“æˆ‘ä»¬å°†å…‰æ ‡ç§»åŠ¨è‡³æ³¢æµªçº¿ä¸Šæ—¶ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ç‚¹å‡» <code>Quick Fix</code>é€‰é¡¹åï¼Œæ’ä»¶ä¹Ÿä¼šæä¾›ä¸€äº›å¿«é€Ÿä¿®å¤çš„æ–¹æ³•, ä½¿å¾—ä¿®å¤æ›´åŠ ä¾¿æ·ï¼š</p>
<figure data-type="image" tabindex="3"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/438ed3f9940c41abad755558f8411fbb~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
</blockquote>
<h3 id="è‡ªåŠ¨ä¿®å¤é…ç½®">è‡ªåŠ¨ä¿®å¤é…ç½®</h3>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦è‡ªåŠ¨ä¿®å¤è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€é¡¹é…ç½®ï¼š</p>
<pre><code class="language-js">module: {
  rules: [
    {
      test: /\.js$/,
      exclude: /node_modules/, // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥
      loader: 'eslint-loader',
      options: {
          fix: true // è‡ªåŠ¨ä¿®å¤ä¸€äº›eslinté—®é¢˜
      }
    }
  ]
}
</code></pre>
<p>è¿™æ ·åˆ™ä¼šè‡ªåŠ¨ä¿®å¤ä¸€äº›é—®é¢˜ã€‚ä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½ä¼šè¢«è‡ªåŠ¨ä¿®å¤ï¼Œæœ‰ä¸€äº›ä»éœ€è¦æ‰‹åŠ¨ä¿®å¤ï¼š<br>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96d4612c60024378a027b819b8124953~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
æ­¤æ—¶æˆ‘ä»¬åªè¦æ ¹æ®ç»™å‡ºçš„æç¤ºé€ä¸€ä¿®å¤å³å¯ã€‚</p>
<h3 id="é…åˆbabel-loaderä¸€èµ·ä½¿ç”¨">é…åˆbabel-loaderä¸€èµ·ä½¿ç”¨</h3>
<p>è¡Œæ–‡è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº† <code>ESlint</code> æ€ä¹ˆå»ä½¿ç”¨ã€‚é‚£ä¹ˆåœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¦‚æœå…ˆå¯¹æ‰€å†™çš„ä»£ç åšè¿‡æ£€æŸ¥ï¼Œç„¶åå†ä½¿ç”¨ <code>babel-loader</code> è½¬æ¢ä¸€ä¸‹ï¼Œå²‚ä¸æ˜¯ç¾æ»‹æ»‹ï¼Ÿï¼ˆæ‰‹åŠ¨æ»‘ç¨½ï¼‰<br><br>
é‚£å¦‚ä½•æ‰èƒ½ä¸ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„ <code>babel-loader</code> ä¸€èµ·å»ä½¿ç”¨å‘¢ï¼Ÿå½“ç„¶æ˜¯ä¸€èµ·å†™åˆ°loaderé…ç½®é‡Œå°±å¥½å•¦~è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼š<strong>loaderçš„æ‰§è¡Œé¡ºåºæ˜¯è‡ªå·¦å‘å³ï¼Œè‡ªä¸‹å‘ä¸Šçš„ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯æŒ‰ç…§ä»åå¾€å‰çš„é¡ºåºæ‰§è¡Œ</strong>ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦å…ˆæ£€æŸ¥ä»£ç ï¼Œä¹‹åå†å¯¹ä»£ç æ‰“åŒ…çš„è¯ï¼Œé‚£ä¹ˆ <code>eslint-loader</code> éœ€è¦é…ç½®åœ¨ <code>babel-loader</code> ä¹‹åï¼š</p>
<pre><code class="language-js">// è¿™é‡Œç”±äºéƒ½æ˜¯åŒ¹é…çš„jsæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¸¤ä¸ªloaderå†™åœ¨ä¸€èµ·
// æ³¨æ„å†™æ³•çš„æ”¹å˜ï¼ŒåŸå…ˆç›´æ¥æ˜¯å†™çš„loaderï¼Œç°åœ¨æ”¹ä¸ºuseæ•°ç»„çš„å½¢å¼
module: {
  rules: [
    {
      // åŒ¹é….jsæ–‡ä»¶
      test: /\.js$/,
      // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥, ä¼šé™ä½æ‰“åŒ…çš„æ€§èƒ½
      exclude: /node_modules/,
      use: [
      	// ä½¿ç”¨ babel-loader
        {
          loader: 'babel-loader',
          // loaderçš„ç›¸å…³é…ç½®
          options: {
            presets: ['@babel/preset-env'],
          },
        }, 
        // ä½¿ç”¨ eslint-loader, é…ç½®å†™åœ¨ babel-loaderä¹‹åï¼Œä¼˜å…ˆæ‰§è¡Œ
        {
          loader: 'eslint-loader',
          options: {
            fix: true,
          },
        },
      ],
    },
  ],
},
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å…ˆåšä»£ç æ£€æŸ¥ï¼Œåè¿›è¡Œè¯­æ³•è½¬æ¢å•¦~ <br></p>
<h1 id="é¢„å‘Š">é¢„å‘Š</h1>
<p>ç»“åˆä¸Šä¸€èŠ‚çš„å†…å®¹ï¼Œæˆ‘ä»¬ä»‹ç»äº†webpackåœ¨å¯¹jsæ–‡ä»¶åšå¤„ç†æ—¶çš„ä¸€äº›åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬ <code>è¯­æ³•è½¬æ¢</code> ä»¥åŠ <code>è¯­æ³•æ£€æŸ¥</code>ã€‚ä»‹ç»å®Œäº†jsï¼Œåœ¨ä¸‹ä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹webpackåœ¨å¤„ç†cssæ–‡ä»¶çš„æ—¶å€™åˆä¼šåšå“ªäº›åŸºæœ¬æ“ä½œå‘¢ï¼Ÿæ‹­ç›®ä»¥å¾…å§~</p>
<figure data-type="image" tabindex="4"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd370ca53e2c47eeb502d251080d7f90~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°äº”ï¼šæ‰“åŒ…cssæ–‡ä»¶]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-wu-da-bao-css-wen-jian/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-wu-da-bao-css-wen-jian/">
        </link>
        <updated>2021-12-24T08:41:39.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸Šä¸¤èŠ‚æˆ‘ä»¬äº†è§£äº†webpackæ˜¯å¦‚ä½•æ‰“åŒ…jsæ–‡ä»¶çš„ï¼Œä»¥åŠåœ¨æ‰“åŒ…jsæ–‡ä»¶è¿‡ç¨‹ä¸­è¿˜åšäº†å…¼å®¹æ€§å¤„ç†å’Œè¯­æ³•æ£€æŸ¥çš„æ“ä½œã€‚è¿™ä¸€èŠ‚æˆ‘ä»¬æ¥çœ‹ä¸‹webpackæ˜¯å¦‚ä½•å¤„ç†cssæ–‡ä»¶çš„ã€‚<br><br>
æˆ‘ä»¬çŸ¥é“ï¼Œwebpackåªèƒ½è¯†åˆ«jsçš„å†…å®¹ï¼Œæ˜¾ç„¶ç›´æ¥è®©webpackè¯†åˆ«cssæ–‡ä»¶æ˜¯ä¸å¯è¡Œçš„ã€‚é‚£è¦å¦‚ä½•å°†cssæ–‡ä»¶ä¸­çš„å†…å®¹è½¬æ¢æˆwebpackå¯ä»¥è¯†åˆ«çš„jså†…å®¹å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬åˆéœ€è¦å€ŸåŠ©â€œç¿»è¯‘å®˜â€ <code>loader</code> çš„å¸®åŠ©äº†ã€‚<br><br>
è¦æƒ³å°†cssè½¬æ¢æˆjsï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸¤ä¸ªloaderï¼š<code>style-loader</code> ä»¥åŠ <code>css-loader</code>ã€‚æˆ‘ä»¬å…ˆæ¥ç®€å•çœ‹ä¸‹è¿™ä¸¤ä¸ªloaderçš„ä½œç”¨ï¼š</p>
<blockquote>
<p>style-loaderï¼šç”Ÿæˆstyleæ ‡ç­¾ ï¼Œå°†jsä¸­çš„csså†…å®¹å†™å…¥styleæ ‡ç­¾ä¸­ï¼Œå¹¶å°†å…¶æ’å…¥headæ ‡ç­¾ä¸­ã€‚<br><br>
css-loaderï¼šå°†csså†…å®¹å˜æˆ <code>commonjs</code> æ¨¡å—åŠ è½½åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯æ ·å¼å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<h1 id="å®‰è£…">å®‰è£…</h1>
<pre><code class="language-js">yarn add -D style-loader css-loader
</code></pre>
<h1 id="ä½¿ç”¨">ä½¿ç”¨</h1>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°loaderçš„æ‰§è¡Œæ˜¯æœ‰é¡ºåºçš„ï¼Œå³<strong>æŒ‰ç…§ä»åå¾€å‰çš„é…ç½®é¡ºåºæ‰§è¡Œ</strong>ã€‚æ ¹æ®ä¸Šé¢å¯¹ä¸¤ä¸ªloaderçš„æè¿°ï¼Œæˆ‘ä»¬éœ€è¦å…ˆé€šè¿‡ <code>css-loader</code> å°†csså†…å®¹è½¬æ¢æˆjsï¼Œç„¶åé€šè¿‡ <code>style-loader</code> å°†jsä¸­çš„csså†…å®¹å†™å…¥åˆ°styleæ ‡ç­¾ä¸­ã€‚æ‰€ä»¥loaderçš„é¡ºåºåº”è¯¥æ˜¯ <code>css-loader</code> å…ˆäº <code>style-loader</code> æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­æ·»åŠ çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')

module.exports = {
  // å…¥å£æ–‡ä»¶
  entry: './src/index.js',
  // è¾“å‡º
  output: {
    filename: '[name].js',
    //   __dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„
    path: resolve(__dirname, 'build'),
  },
  // loaderé…ç½®
  module: {
    rules: [
      {
        test: /\.css$/, // åŒ¹é…ä»¥cssç»“å°¾çš„æ–‡ä»¶
        // ä½¿ç”¨å“ªäº›loaderåŒ…å¤„ç†ï¼Œæ‰§è¡Œé¡ºåºæ˜¯ä»åå¾€å‰
        use: [
          // ç”Ÿæˆstyleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºå†™å…¥å…¶ä¸­ï¼Œå¹¶æ·»åŠ åˆ°headæ ‡ç­¾ä¸­
          'style-loader',
          // å°†cssçš„å†…å®¹å˜æˆcommonjsæ¨¡å—åŠ è½½åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯æ ·å¼å­—ç¬¦ä¸²
          'css-loader'
        ]
      }
    ]
  },
  // æ’ä»¶
  plugins: [],
  // æ¨¡å¼ development / production
  mode: 'development'
}
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€ä¸ªç®€å•çš„cssæ–‡ä»¶ï¼Œä¿å­˜åœ¨ <code>src/css/index.css</code>ä¸­ï¼š</p>
<pre><code class="language-css">html, body {
  padding: 0;
  margin: 0;
  background: #ff5512;
}
</code></pre>
<p>ç„¶ååœ¨å…¥å£ <code>index.js</code> æ–‡ä»¶ä¸­å¼•å…¥ <code>index.css</code> æ–‡ä»¶ï¼Œä¹‹åæ‰§è¡Œæ‰“åŒ…æ“ä½œã€‚åœ¨æ‰“åŒ…ç”Ÿæˆçš„jsæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ° <code>index.css</code> ä¸­çš„å†…å®¹ï¼š<br>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db759eb2c3bf4db4b38563e9a3f2680b~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
ä¹‹åï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ï¼Œå°†æ‰“åŒ…ä¹‹åçš„jsæ–‡ä»¶å¼•å…¥é¡µé¢ï¼Œå³å¯ä»¥çœ‹åˆ°æ ·å¼ç”Ÿæ•ˆã€‚</p>
<h1 id="sass-loader">sass-loader</h1>
<p>åœ¨ç°é˜¶æ®µé¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°è¯¸å¦‚ <code>sass</code>ã€<code>less</code>ã€<code>stylus</code>ç­‰ç­‰çš„ <code>cssé¢„å¤„ç†å™¨</code>ã€‚é‚£åº”è¯¥å¦‚ä½•è®©webpackå¯ä»¥è¯†åˆ«å‡ºæˆ‘ä»¬ä½¿ç”¨è¿™äº› <code>cssé¢„å¤„ç†å™¨</code> å†™å‡ºçš„cssä»£ç å‘¢ï¼Ÿ<br><br>
å…¶å®ä¹Ÿå¹¶ä¸å¤æ‚ï¼ŒåŸºæœ¬çš„æ€è·¯å°±æ˜¯<strong>ä½¿ç”¨å¯¹åº” <code>cssé¢„å¤„ç†å™¨</code> çš„ <code>loader</code>ï¼Œå°†ä»£ç è½¬æ¢ä¸ºæ™®é€šçš„cssä»£ç ï¼Œç„¶åå†é€šè¿‡ <code>css-loader</code> ä¸ <code>style-loader</code> å°†cssè½¬æ¢æˆjsä»£ç ï¼Œå¹¶æ’å…¥åˆ°é¡µé¢çš„styleæ ‡ç­¾ä¸­å»ã€‚</strong><br><br>
æœ¬æ–‡ä¸­ä»¥ <code>sass</code> ä¸ºä¾‹ã€‚æƒ³è¦å°† <code>sass</code> ä»£ç è½¬æ¢ä¸ºæ™®é€šçš„cssä»£ç ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸¤ä¸ªå·¥å…·ï¼š</p>
<pre><code class="language-js">yarn add -D sass sass-loader
</code></pre>
<p>ä¹‹ååªéœ€è¦åœ¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸­åŠ å…¥ç›¸åº”çš„loaderé…ç½®ï¼Œå¹¶å°†æ–‡ä»¶åŒ¹é…çš„æ­£åˆ™è°ƒæ•´ä¸‹å³å¯ï¼š</p>
<pre><code class="language-js">/* ... */
// loaderé…ç½®
module: {
  rules: [
    {
      test: /\.s[ac]ss$/, // åŒ¹é…ä»¥.scssæˆ–è€….sassç»“å°¾çš„æ–‡ä»¶
      // ä½¿ç”¨å“ªäº›loaderåŒ…å¤„ç†ï¼Œæ‰§è¡Œé¡ºåºæ˜¯ä»åå¾€å‰
      use: [
        // ç”Ÿæˆstyleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºå†™å…¥å…¶ä¸­ï¼Œå¹¶æ·»åŠ åˆ°headæ ‡ç­¾ä¸­
        'style-loader',
        // å°†cssçš„å†…å®¹å˜æˆcommonjsæ¨¡å—åŠ è½½åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯æ ·å¼å­—ç¬¦ä¸²
        'css-loader',
        // å°†ä½¿ç”¨sassç¼–å†™çš„ä»£ç è½¬æ¢ä¸ºæ™®é€šçš„cssä»£ç  
        'sass-loader'
      ]
    }
  ]
},
/* ... */
</code></pre>
<p>ä¿®æ”¹å®Œé…ç½®åï¼Œæˆ‘ä»¬å°† <code>index.css</code> æ–‡ä»¶ä¿®æ”¹ä¸º <code>index.scss</code>ï¼Œå¹¶åœ¨å…¶ä¸­åŠ å…¥sassçš„è¯­æ³•ï¼š</p>
<pre><code class="language-css">html, body {
  padding: 0;
  margin: 0;
  background: #ff5512;
  div {
    background: blue
  }
}
</code></pre>
<p>ç„¶åè¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œæ‰“å¼€æ‰“åŒ…åçš„jsæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°sassçš„å†…å®¹ä¼šè¢«è½¬æ¢ä¸ºæ™®é€šçš„csså†…å®¹ï¼š<br>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af9c3a2e6a724c1094fa9048b93a37b2~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
<h1 id="é¢„å‘Š">é¢„å‘Š</h1>
<p>è¿™ä¸€èŠ‚æˆ‘ä»¬çŸ¥é“äº†åœ¨webpackä¸­å¦‚ä½•å¯¹cssæ–‡ä»¶åšå¤„ç†ï¼Œä»¥åŠåœ¨ä½¿ç”¨ <code>cssé¢„å¤„ç†å™¨</code> æ—¶å¦‚ä½•å¯¹å…¶å†…å®¹åšç›¸åº”çš„è½¬æ¢ã€‚<br><br>
ä½†æ˜¯cssçš„å†…å®¹åœ¨è½¬æ¢è¿‡åï¼Œä¾æ—§å­˜åœ¨äºjsæ–‡ä»¶ä¸­ã€‚éšç€æˆ‘ä»¬é¡¹ç›®å¼€å‘çš„æ¨è¿›ï¼Œæ‰“åŒ…å‡ºæ¥çš„jsæ–‡ä»¶ä¼šæ„ˆå‘åºå¤§ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé’ˆå¯¹äºä¸åŒå¹³å°ä»¥åŠä¸åŒè®¾å¤‡ï¼Œæˆ‘ä»¬æ‰€å†™çš„cssä»£ç ä¹Ÿéœ€è¦åšç›¸åº”çš„å…¼å®¹æ€§å¤„ç†ã€‚<br><br>
é’ˆå¯¹ä»¥ä¸Šçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸‹èŠ‚ä¸€èµ·æ¥çœ‹ä¸‹å¦‚ä½•å°†jsä¸­çš„cssä»£ç æå–æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶å¯¹å…¶åšç›¸åº”çš„å…¼å®¹æ€§ä¸ä»£ç å‹ç¼©å¤„ç†ã€‚æ•¬è¯·æœŸå¾…~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°å…­ï¼šcsså…¼å®¹æ€§å¤„ç†ä»¥åŠæ–‡ä»¶æå–]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-liu-css-jian-rong-xing-chu-li-yi-ji-wen-jian-ti-qu/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-liu-css-jian-rong-xing-chu-li-yi-ji-wen-jian-ti-qu/">
        </link>
        <updated>2021-12-24T08:40:37.000Z</updated>
        <content type="html"><![CDATA[<p><a href="https://juejin.cn/post/6905647041368555527">ä¸Šä¸€èŠ‚</a>æˆ‘ä»¬å­¦ä¹ åˆ°webpackä¸­å¦‚ä½•å¤„ç†cssæ–‡ä»¶ï¼Œä»¥åŠåœ¨ä½¿ç”¨äº† <code>cssé¢„å¤„ç†å™¨</code> ååˆæ”¹æ€ä¹ˆå¤„ç†ã€‚æ–‡ç« æœ«å°¾æˆ‘ä»¬ä¹Ÿæåˆ°äº†ä¸¤ä¸ªéœ€è¦è§£å†³çš„é—®é¢˜ï¼š</p>
<blockquote>
<ol>
<li>éšç€é¡¹ç›®æ¨è¿›ï¼Œä¸€ç›´å°†csså†™å…¥jsä¸­ä¼šå¯¼è‡´æ–‡ä»¶é€æ¸è‡ƒè‚¿ï¼›</li>
<li>csså…¼å®¹æ€§<br>
è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹è¿™ä¸¤ä¸ªé—®é¢˜æå‡ºç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚</li>
</ol>
</blockquote>
<h1 id="cssæ–‡ä»¶æå–">cssæ–‡ä»¶æå–</h1>
<p>ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨åˆ°äº† <code>style-loader</code> ã€ <code>css-loader</code> ä»¥åŠ <code>sass-loader</code> ä¸‰ç§loaderï¼Œåœ¨è¿™ä¸‰ç§loaderçš„ååŒä½œç”¨ä¸‹ï¼Œ.scssæ–‡ä»¶å…ˆé€šè¿‡sass-loaderè½¬æˆæ™®é€šçš„cssæ–‡ä»¶ï¼Œå†é€šè¿‡css-loaderå°†cssè½¬æ¢æˆcommonjsæ¨¡å—å¹¶æ‰“åŒ…åˆ°jsä¸­ï¼Œæœ€åé€šè¿‡style-loaderå°†jsæ–‡ä»¶ä¸­çš„cssæ ·å¼åŠ è½½åˆ°headé‡Œçš„styleæ ‡ç­¾ä¸­å»ã€‚<br><br>
é™¤äº†ä¸Šé¢æåˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å¤–ï¼Œè¿™æ ·ä¹Ÿä¼šå¯¼è‡´é¡µé¢ä¼šæœ‰çŸ­æš‚çš„é”™ä¹±ï¼Œç„¶åç­‰jsæ–‡ä»¶åŠ è½½å®Œæˆåï¼Œé¡µé¢æ ·å¼æ‰ä¼šæ¢å¤æ­£å¸¸ï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ï¼Œç”¨æˆ·çš„ä½“éªŒä¹Ÿéå¸¸ä¸å¥½ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†jsä¸­çš„csså•ç‹¬æå–å‡ºæ¥ï¼Œä½œä¸ºcssæ–‡ä»¶å¼•å…¥é¡µé¢ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è€Œä¸”jsçš„æ–‡ä»¶ä½“ç§¯ä¼šæ›´å°ï¼Œä¸Šè¿°ç¬¬ä¸€ä¸ªé—®é¢˜ä¹Ÿèƒ½è¢«è§£å†³ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨</h2>
<p>è¦å°†jsä¸­çš„cssæå–æˆå•ç‹¬çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ª <code>æ’ä»¶</code> ï¼š<code>mini-css-extract-plugin</code>ã€‚</p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D mini-css-extract-plugin
</code></pre>
<h3 id="é…ç½®">é…ç½®</h3>
<p>å‰å‡ èŠ‚æˆ‘ä»¬ä¸»è¦ä½¿ç”¨çš„æ˜¯webpackä¸­çš„ <code>loader</code> ï¼Œä¸ <code>loader</code> ä¸åŒçš„æ˜¯ï¼Œ<code>æ’ä»¶</code> åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå¼•å…¥è¿›æ¥ï¼Œç„¶ååœ¨wbepack.config.jsçš„ <code>plugin</code> å­—æ®µä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="language-js">const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
    /* ... */
    plugins: [
    	new MiniCssExtractPlugin({
         filename: 'css/index.[contenthash:10].css',
       }),
    ]
    /* ... */
}
</code></pre>
<p>å…¶ä¸­ï¼Œåœ¨å®ä¾‹åŒ–è¿™ä¸ªæ’ä»¶æ—¶ï¼Œå¯ä»¥ä¼ å…¥é…ç½®ã€‚ä¸Šè¿°é…ç½®ä¸­æŒ‡å®šäº†æå–å‡ºcssæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„ã€‚<br><br>
åœ¨é…ç½®å®Œæ’ä»¶ä¹‹åï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„å¤„ç†æ–¹å¼ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯<strong>é€šè¿‡ <code>style-loader</code> å°†cssçš„å†…å®¹æ’å…¥åˆ°é¡µé¢çš„styleæ ‡ç­¾ä¸­</strong>ã€‚è€Œç°åœ¨æˆ‘ä»¬è¦å®ç°çš„æ˜¯<strong>å°†cssæ–‡ä»¶å•ç‹¬æå–å‡ºæ¥</strong>ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°† <code>style-loader</code> æ›¿æ¢æ‰ã€‚<br><br>
åœ¨ <code>mini-css-extract-plugin</code> æ’ä»¶å†…éƒ¨æä¾›äº†ä¸€ä¸ªç”¨äºæå–cssçš„loader: <code>MiniCssExtractPlugin.loader</code>ï¼Œæˆ‘ä»¬åªéœ€è¦å°† <code>style-loader</code> æ›¿æ¢ä¸º <code>MiniCssExtractPlugin.loader</code> å³å¯ï¼š</p>
<pre><code class="language-js">const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
    /* ... */
    module: {
        rules: [
            /* ... */
            {
              test: /\.s[ac]ss/,
              exclude: /(node_modules|build)/,
              use: [
                MiniCssExtractPlugin.loader,,
                'css-loader',
                'sass-loader'
              ],
            },
        ]
    },
    plugins: [
    	new MiniCssExtractPlugin({
         filename: 'css/index.[contenthash:10].css',
       }),
    ]
    /* ... */
}
</code></pre>
<h1 id="csså…¼å®¹æ€§å¤„ç†">csså…¼å®¹æ€§å¤„ç†</h1>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¸ºäº†è®©cssæ ·å¼èƒ½å¤Ÿé€‚ç”¨äºå¤§å¤šæ•°çš„è®¾å¤‡æˆ–è€…æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦å¯¹cssåšå¥½å…¼å®¹æ€§å¤„ç†ã€‚<br><br>
cssçš„å…¼å®¹æ€§å¤„ç†éœ€è¦ç”¨åˆ° <a href="https://www.postcss.com.cn/">postcss</a>ã€‚ <code>postcss</code> æ˜¯ä¸€ä¸ªç”¨ JavaScript å·¥å…·å’Œæ’ä»¶è½¬æ¢ CSS ä»£ç çš„å·¥å…·ã€‚åœ¨webpackä¸­ä½¿ç”¨å®ƒéœ€è¦ç”¨åˆ°ä¸¤ä¸ªåŒ…ï¼š<code>postcss-loader</code> ä»¥åŠ <code>postcss-preset-env</code>ã€‚<br><br>
å…¶ä¸­ï¼Œ<code>postcss-preset-env</code> çš„ä½œç”¨æ˜¯å¸®åŠ© <code>postcss-loader</code> æ‰¾åˆ° <code>browserslist</code> çš„é…ç½®ï¼ŒåŠ è½½æŒ‡å®šçš„å…¼å®¹æ€§ã€‚<code>browserslist</code> ä¸€èˆ¬ä¼šé…ç½®åˆ°package.jsonä¸‹ï¼Œæˆ–è€…åœ¨æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª <code>.browserslistrc</code> çš„æ–‡ä»¶å»å†™ç›¸å…³çš„é…ç½®ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼špackage.jsonä¸­çš„é…ç½®ä¸.browserslistrcæ–‡ä»¶ï¼Œä¸¤è€…åªèƒ½å­˜å…¶ä¸€ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼ï¼</p>
</blockquote>
<h3 id="å®‰è£…-2">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D postcss-loader postcss-preset-env
</code></pre>
<h3 id="é…ç½®-2">é…ç½®</h3>
<p>æˆ‘ä»¬åœ¨ä¸Šé¢çš„loaderé…ç½®åŸºç¡€ä¸Šè¿›è¡Œä¸€äº›ä¿®æ”¹ï¼š</p>
<pre><code class="language-js">{
  test: /\.s[ac]ss$/i,
  use: [
    MiniCssExtractPlugin.loader,
    'css-loader',
    {
      loader: 'postcss-loader',
      options: {
        postcssOptions: {
          plugins: [
            [
              'postcss-preset-env',
              {
                // Options
              },
            ],
          ],
        },
      }
    },
    // å°† Sass ç¼–è¯‘æˆ CSS
    'sass-loader',
  ],
},
</code></pre>
<p>ç„¶ååœ¨ <code>package.json</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ˆæ›´å¤šé…ç½®å¯ä»¥å‚è€ƒ:<a href="https://github.com/browserslist/browserslist">browserslist</a>ï¼‰ï¼š</p>
<pre><code class="language-json">&quot;browserslist&quot;: {
    &quot;development&quot;: [ // å¼€å‘ç¯å¢ƒ
      &quot;last 1 chrome version&quot;,
      &quot;last 1 safari version&quot;,
      &quot;last 1 firefox version&quot;
    ],
    &quot;production&quot;: [ // ç”Ÿäº§ç¯å¢ƒ
      &quot;&gt; 0.2%&quot;,
      &quot;not dead&quot;,
      &quot;not op_mini all&quot;
    ]
}
</code></pre>
<p>æˆ–è€…ä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º.browserslistrcæ–‡ä»¶ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šé…ç½®é¡¹æ˜¯æœ‰é¡ºåºçš„ï¼ï¼&gt; 0.2%å†™åˆ°åé¢ä¼šæŠ¥é”™</p>
</blockquote>
<pre><code class="language-json">&gt; 0.2%
not dead
not op_mini all
</code></pre>
<p>å…³äºpostcss-loaderæ›´å¤šçš„é…ç½®å¯ä»¥<a href="https://webpack.js.org/loaders/postcss-loader/#root">å‚è€ƒ</a>ã€‚</p>
<h1 id="cssæ–‡ä»¶å‹ç¼©">cssæ–‡ä»¶å‹ç¼©</h1>
<p>åœ¨å¯¹cssæ–‡ä»¶åšå®Œå…¼å®¹æ€§å¤„ç†å¹¶æå–æˆå•ä¸ªæ–‡ä»¶ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œå°†æŠ½å‡ºçš„cssæ–‡ä»¶è¿›è¡Œå‹ç¼©ã€‚æ­¤æ—¶æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶ï¼š <code>optimize-css-assets-webpack-plugin</code>ã€‚</p>
<h3 id="å®‰è£…-3">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D optimize-css-assets-webpack-plugin
</code></pre>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<p>ä½¿ç”¨éå¸¸ç®€å• ï¼Œåªéœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­å¼•å…¥ä½¿ç”¨å³å¯ã€‚é»˜è®¤é…ç½®å·²ç»å¯ä»¥æ»¡è¶³å‹ç¼©éœ€è¦ï¼Œå¦‚æœéœ€è¦æ·»åŠ é…ç½®ï¼Œå¯ä»¥<a href="https://www.npmjs.com/package/optimize-css-assets-webpack-plugin">å‚è€ƒ</a>ã€‚</p>
<pre><code class="language-js">const OptimizeCssAssetsWebpackPlugin = require('optimize-css-assets-webpack-plugin')
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
    /* ... */
    module: {
      rules: [
        /* ... */
        {
          test: /\.s[ac]ss$/i,
          use: [
            MiniCssExtractPlugin.loader,
            'css-loader',
            {
              loader: 'postcss-loader',
              options: {
                postcssOptions: {
                  plugins: [
                    [
                      'postcss-preset-env',
                      {
                        // Options
                      },
                    ],
                  ],
                },
              }
            },
            // å°† Sass ç¼–è¯‘æˆ CSS
            'sass-loader',
          ],
        },
      ]
    },
    plugins: [
    	new MiniCssExtractPlugin({
         filename: 'css/index.[contenthash:10].css',
       }),
       new OptimizeCssAssetsWebpackPlugin()
    ]
    /* ... */
}
</code></pre>
<h1 id="é¢„å‘Š">é¢„å‘Š</h1>
<p>é€šè¿‡è¿™ä¸¤èŠ‚ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†webpackä¸­å¦‚ä½•å¯¹cssæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­å¯¹å…¶åšäº†ä¸€äº›ä¼˜åŒ–ï¼ŒåŒ…æ‹¬æå–å•ä¸ªcssæ–‡ä»¶ï¼Œå…¼å®¹æ€§å¤„ç†ä»¥åŠcssä»£ç å‹ç¼©ã€‚<br><br>
ä¸‹ä¸€èŠ‚æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹ï¼Œé™¤äº†cssæ–‡ä»¶ä¸jsæ–‡ä»¶å¤–ï¼Œå…¶ä»–çš„æ–‡ä»¶webpackè¦å¦‚ä½•è¿›è¡Œå¤„ç†å‘¢ï¼Ÿæ‹­ç›®ä»¥å¾…å§~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webpackå­¦ä¹ ç¬”è®°ä¸ƒï¼šå…¶ä»–æ–‡ä»¶çš„æ‰“åŒ…]]></title>
        <id>https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-qi-qi-ta-wen-jian-de-da-bao/</id>
        <link href="https://luhaifeng666.github.io/post/webpack-xue-xi-bi-ji-qi-qi-ta-wen-jian-de-da-bao/">
        </link>
        <updated>2021-12-24T08:38:47.000Z</updated>
        <content type="html"><![CDATA[<p><a href="https://juejin.cn/post/6907627139198107655">ä¸Šä¸€èŠ‚</a>æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•å¯¹cssåšå…¼å®¹æ€§å¤„ç†ï¼Œä»¥åŠå¦‚ä½•å°†ä»£ç ä¸­çš„csså•ç‹¬æå–æˆcssæ–‡ä»¶ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå‹ç¼©å¤„ç†ã€‚ç»“åˆå‰å‡ ä¸ªç« èŠ‚çš„å†…å®¹ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†åœ¨webpackä¸­å¦‚ä½•å¯¹jsä»¥åŠcssæ–‡ä»¶å¤„ç†ã€‚é‚£ä¹ˆé™¤äº†jsä¸cssæ–‡ä»¶å¤–ï¼Œç±»ä¼¼äº <code>htmlèµ„æº</code>ã€ <code>å›¾ç‰‡èµ„æº</code> ä»¥åŠ <code>å…¶ä»–çš„èµ„æº</code> åˆè¯¥æ€ä¹ˆå»å¤„ç†å‘¢ï¼Ÿè¿™ä¸€èŠ‚æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹~</p>
<h1 id="æ‰“åŒ…htmlèµ„æº">æ‰“åŒ…htmlèµ„æº</h1>
<p>è¦æƒ³å¯¹htmlèµ„æºè¿›è¡Œæ‰“åŒ…ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶ï¼š<code>html-webpack-plugin</code>ã€‚è¿™ä¸ªæ’ä»¶çš„ä½œç”¨ä¸»è¦æ˜¯<strong>ç”Ÿæˆhtmlæ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å°†outputç”Ÿæˆçš„æ–‡ä»¶å¼•å…¥</strong>ã€‚</p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D html-webpack-plugin
</code></pre>
<h3 id="é…ç½®">é…ç½®</h3>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­å¼•å…¥æ’ä»¶ï¼Œå¹¶é…ç½®åˆ° <code>plugins</code> é€‰é¡¹ä¸­ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  entry: './src/js/index.js',
  // è¾“å‡º
  output: {
    filename: 'js/[name].[contenthash:10].js',
    //   __dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„
    path: resolve(__dirname, 'build'),
  },
  module: {
    rules: [/*...*/]
  },
  plugins: [
    new HtmlWebpackPlugin()
  ],
  mode: 'development'
}
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œæ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œä¼šçœ‹åˆ°åœ¨ <code>build</code> ç›®å½•ä¸‹å¤šå‡ºäº†ä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯é€šè¿‡ <code>html-webpack-plugin</code> æ’ä»¶ç”Ÿæˆå‡ºæ¥çš„ã€‚</p>
<h3 id="jsä¸cssæ–‡ä»¶çš„è‡ªåŠ¨å¼•å…¥">jsä¸cssæ–‡ä»¶çš„è‡ªåŠ¨å¼•å…¥</h3>
<p>æ‰“å¼€ç”Ÿæˆçš„ <code>index.html</code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰“åŒ…å‡ºæ¥çš„jsæ–‡ä»¶è¢«è‡ªåŠ¨å¼•å…¥äº†ï¼š<br>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d5fc7220af747ce826b51e9f028175e~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
è¿˜è®°çš„æˆ‘ä»¬ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„æå–cssæ–‡ä»¶çš„æ“ä½œä¹ˆï¼Ÿå¦‚æœæˆ‘ä»¬å°†cssæ–‡ä»¶ä¹Ÿæå–å‡ºæ¥ä¹‹åä¹Ÿä¼šè¢«è‡ªåŠ¨å¼•å…¥åˆ° <code>index.html</code> æ–‡ä»¶ä¸­ä¹ˆï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥è¯•ä¸€è¯•ï¼Œå°†ä¸ŠèŠ‚ä¸­çš„é…ç½®å†™å…¥è¿›æ¥ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
  entry: './src/js/index.js',
  // è¾“å‡º
  output: {
    filename: 'js/[name].[contenthash:10].js',
    //   __dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„
    path: resolve(__dirname, 'build'),
  },
  module: {
    rules: [
    	{
        // åŒ¹é….jsæ–‡ä»¶
        test: /\.js$/,
        // éœ€è¦å¿½ç•¥æ‰node_modulesï¼Œä¸ç„¶ä¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¹Ÿåšæ£€æŸ¥, ä¼šé™ä½æ‰“åŒ…çš„æ€§èƒ½
        exclude: /node_modules/,
        // ä½¿ç”¨babel-loader
        use: [
          {
            loader: 'babel-loader',
            // loaderçš„ç›¸å…³é…ç½®
            options: {
              presets: [
                [
                  '@babel/preset-env',
                  {
                    // æŒ‡å®šæŒ‰éœ€åŠ è½½
                    useBuiltIns: 'usage',
                    // æŒ‡å®šcore-jsçš„ç‰ˆæœ¬
                    corejs: {
                      version: 3,
                    },
                    // æŒ‡å®šå…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬
                    targets: {
                      chrome: '60',
                      firefox: '60',
                      ie: '9',
                      safari: '10',
                      edge: '17',
                    },
                  },
                ],
              ],
            },
          },
        ],
      },
      {
        test: /\.s[ac]ss/,
        exclude: /(node_modules|build)/,
        use: [
          MiniCssExtractPlugin.loader,
          'css-loader',
          'sass-loader'
        ],
      },
    ]
  },
  plugins: [
    new HtmlWebpackPlugin(),
    new MiniCssExtractPlugin({
      filename: 'css/index.[contenthash:10].css', // è®¾ç½®cssæ–‡ä»¶çš„è¾“å‡ºè·¯å¾„
    }),
  ],
  mode: 'development'
}
</code></pre>
<p>æ­¤æ—¶æˆ‘ä»¬å†æ¬¡æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œä¹‹åæ‰“å¼€ç”Ÿæˆçš„ <code>index.html</code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æå–å‡ºæ¥çš„cssæ–‡ä»¶ä¹Ÿä¼šè¢«å¼•å…¥è¿›æ¥ï¼š<br>
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8827558e583a431f80e9abc49002de1d~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
<h3 id="é…ç½®è‡ªå®šä¹‰htmlæ¨¡æ¿">é…ç½®è‡ªå®šä¹‰htmlæ¨¡æ¿</h3>
<p>åœ¨ä¸Šé¢çš„æ —å­ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯å•çº¯çš„ä½¿ç”¨äº† <code>html-webpack-plugin</code> è¿™ä¸ªæ’ä»¶ã€‚åœ¨ä¸ä¼ å…¥ä»»ä½•é…ç½®çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ªæœ€ç®€å•çš„htmlæ–‡ä»¶ã€‚å¦‚æœæˆ‘ä»¬å¯¹ç”Ÿæˆçš„htmlæ–‡ä»¶æœ‰å®šåˆ¶åŒ–çš„éœ€æ±‚ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™è¿™ä¸ªæ’ä»¶ä¼ å…¥ç›¸åº”çš„å‚æ•°ï¼Œç”¨æ¥å£°æ˜ç”Ÿæˆhtmlæ–‡ä»¶æ—¶æ‰€éœ€è¦ä½¿ç”¨çš„æ¨¡æ¿ã€‚<br><br>
åœ¨ä¼ å…¥é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåœ¨srcç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ï¼Œç”¨æ¥å®šä¹‰æˆ‘ä»¬è‡ªå®šä¹‰çš„é¡µé¢æ¨¡æ¿ï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;webpack-image&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä¹‹åï¼Œæˆ‘ä»¬ç»™æ’ä»¶ä¼ å…¥å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  /* ... */
  plugins: [
    new HtmlWebpackPlugin({
    	template: resolve(__dirname, 'src/index.html')
    })
  ]
  /* ... */
}
</code></pre>
<p>æ­¤æ—¶ï¼Œå½“æˆ‘ä»¬å†æ¬¡æ‰§è¡Œæ‰“åŒ…å‘½ä»¤åï¼Œç‚¹å¼€ç”Ÿæˆçš„htmlæ–‡ä»¶ï¼š<br>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79acb15065944aca998e86eeb4b5c002~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç”Ÿæˆçš„htmlæ–‡ä»¶ä¸­ï¼Œå­˜åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å†…å®¹ï¼Œä¸æ­¤åŒæ—¶ï¼Œcssä¸jsæ–‡ä»¶ä¹Ÿä¼šè¢«è‡ªåŠ¨å¼•å…¥è¿›æ¥ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong> <br><br>
ç”±äºjsä¸cssæ–‡ä»¶ä¼šè¢«è‡ªåŠ¨å¼•å…¥è¿›æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ¨¡æ¿ä¸­ä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥cssä¸jsï¼Œå¦åˆ™ä¼šå‡ºç°é‡å¤å¼•å…¥çš„æƒ…å†µï¼</p>
</blockquote>
<h3 id="æŒ‡å®šhtmlæ–‡ä»¶çš„ç”Ÿæˆç›®å½•">æŒ‡å®šhtmlæ–‡ä»¶çš„ç”Ÿæˆç›®å½•</h3>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šhtmlæ–‡ä»¶ç”Ÿæˆçš„è·¯å¾„ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')
const HtmlWebpackPlugin = require('html-webpack-plugin')

module.exports = {
  /* ... */
  plugins: [
    new HtmlWebpackPlugin({
       template: resolve(__dirname, 'src/index.html'),
       filename: 'html/index.html'
    })
  ]
  /* ... */
}
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œhtmlæ–‡ä»¶å°±ä¼šè¢«æ‰“åŒ…è‡³ <code>build/html</code> è·¯å¾„ä¸‹ï¼Œæ–‡ä»¶åä¸º <code>index.html</code>ã€‚</p>
<h1 id="æ‰“åŒ…å›¾ç‰‡èµ„æº">æ‰“åŒ…å›¾ç‰‡èµ„æº</h1>
<p>å›¾ç‰‡èµ„æºä¸»è¦æœ‰ä¸¤ä¸ªæ¥æºï¼Œä¸€ä¸ªæ˜¯æ¥è‡ªäºhtmlæ–‡ä»¶ä¸­ï¼Œå¦ä¸€ä¸ªæ˜¯æ¥æºäºcssæ–‡ä»¶ä¸­ã€‚é’ˆå¯¹è¿™ä¸¤ç§ä¸åŒçš„æƒ…å†µï¼Œå¤„ç†çš„æ–¹å¼ä¹Ÿå„æœ‰ä¸åŒã€‚</p>
<h2 id="æ‰“åŒ…cssæ–‡ä»¶ä¸­çš„å›¾ç‰‡">æ‰“åŒ…cssæ–‡ä»¶ä¸­çš„å›¾ç‰‡</h2>
<p>è¦æƒ³æ‰“åŒ…cssæ–‡ä»¶ä¸­çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªloaderå·¥å…·ï¼š<code>url-loader</code>ã€‚è¿™ä¸ªloaderçš„ä½œç”¨æ˜¯<strong>å¤„ç†cssä¸­çš„å›¾ç‰‡</strong>(å…¶ä¾èµ–äºfile-loaderï¼Œæ‰€ä»¥ä¹Ÿè¦ä¸‹ä¸‹æ¥)ã€‚</p>
<h3 id="å®‰è£…-2">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D url-loader file-loader
</code></pre>
<h3 id="é…ç½®-2">é…ç½®</h3>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åœ¨ <code>webpack.config.js</code> ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®:</p>
<pre><code class="language-js">/* ... */
rules: [
  {
    test: /\.(jpeg|png|gif|jpg)$/,
    loader: 'url-loader',
    options: {
      // é™åˆ¶å›¾ç‰‡å¤§å°ä¸º8kbï¼Œå«ä¹‰æ˜¯å½“å›¾ç‰‡çš„å¤§å°å°äº8kbæ—¶ï¼Œä¼šè¢«ç¼–è¯‘æˆbase64çš„å½¢å¼å†™å…¥æ ·å¼ï¼Œè€Œè¶…è¿‡8kbåˆ™ä¼šå¼•å…¥å›¾ç‰‡ã€‚
      // ä¼˜ç‚¹ï¼šå‡å°‘è¯·æ±‚
      // ç¼ºç‚¹ï¼šbase64ä¹‹åçš„å¤§å°å¯èƒ½ä¼šæ¯”åŸå…ˆå›¾ç‰‡çš„å¤§å°æ›´å¤§
      limit: 8 * 1024, 
      // è®¾ç½®æ‰“åŒ…å‡ºæ¥çš„å›¾ç‰‡åç§°ï¼Œå…¶ä¸­hashè¡¨ç¤ºhashå€¼ï¼Œ10è¡¨ç¤ºæˆªå–hashå€¼çš„å‰10ä½ï¼Œextè¡¨ç¤ºä¿ç•™å›¾ç‰‡åŸæœ¬çš„åç¼€å
      // å¯ä»¥è®¾ç½®å›¾ç‰‡æ‰“åŒ…å‡ºå»çš„è·¯å¾„
      // æ¯”å¦‚'img/[hash:10].[ext]'è¡¨ç¤ºå°†å›¾ç‰‡æ‰“åŒ…åˆ°buildä¸‹çš„imgæ–‡ä»¶å¤¹ä¸­
      // æ³¨æ„ï¼š1ã€æ­¤å¤„çš„è·¯å¾„è®¾ç½®æ˜¯ç›¸å¯¹äºbuildæ–‡ä»¶å¤¹çš„ï¼Œå¦‚æœè®¾ç½®'../[hash:10].[ext]'å°±æ˜¯æ‰“åŒ…åˆ°buildçš„ä¸Šä¸€çº§ç›®å½•ã€‚
      // 2ã€è¿™é‡Œè®¾ç½®çš„è·¯å¾„ï¼Œä¹Ÿæ˜¯æœ€åcssæ–‡ä»¶ä¸­å¼•å…¥çš„è·¯å¾„ã€‚æ¯”å¦‚è®¾ç½®çš„'img/[hash:10].[ext]'ï¼Œé‚£åœ¨cssä¸­å¼•å…¥çš„å°±æ˜¯ï¼šbackground: url(img/....)ã€‚
      name: '[hash:10].[ext]'
    }
  }
]
/* ... */
</code></pre>
<h2 id="æ‰“åŒ…htmlæ–‡ä»¶ä¸­çš„å›¾ç‰‡">æ‰“åŒ…htmlæ–‡ä»¶ä¸­çš„å›¾ç‰‡</h2>
<p>å¤„ç†htmlä¸­çš„å›¾ç‰‡æ–‡ä»¶éœ€è¦ä½¿ç”¨åˆ°å¦å¤–ä¸€ä¸ªloaderï¼š<code>html-loader</code>ã€‚è¿™ä¸ªloaderçš„ä½œç”¨æ˜¯<strong>å¼•å…¥htmlæ–‡ä»¶ä¸­çš„imgï¼Œä»è€Œå¯ä»¥ä½¿å…¶è¢«url-loaderå¤„ç†</strong>ã€‚</p>
<h3 id="å®‰è£…-3">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D html-loader
</code></pre>
<h3 id="é…ç½®-3">é…ç½®</h3>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ <code>webpack.config.js</code> çš„ <code>rules</code> é…ç½®é¡¹ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="language-js">{
  test: /\.html$/,
  loader: 'html-loader'
}
</code></pre>
<p>ç„¶ååœ¨ä¸Šè¿°çš„ <code>src/index.html</code> æ¨¡æ¿ä¸­ï¼Œå¼•å…¥ä¸€å¼ å›¾ç‰‡ï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;webpack-image&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;æˆ‘çš„è‡ªå®šä¹‰æ¨¡æ¿&lt;/p&gt;
  &lt;img src=&quot;./images/luoxiaohei1.jpeg&quot; alt=&quot;&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä¹‹åè¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œæ‰“å¼€ç”Ÿæˆçš„htmlæ–‡ä»¶ï¼Œæˆ‘ä»¬å³å¯çœ‹åˆ°å¼•å…¥çš„å›¾ç‰‡ã€‚<br>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c1209c0e30e46968d9d375cae4350e2~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
<blockquote>
<p><strong>æ³¨æ„</strong> <br><br>
å¦‚æœå›¾ç‰‡çš„æ˜¾ç¤ºè·¯å¾„æ˜¯&quot;[Object Module]&quot;ï¼ŒåŸå› æ˜¯url-loaderé»˜è®¤è¯•ç”¨ES6çš„æ–¹å¼è§£æï¼Œè€Œhtml-loaderå¼•å…¥çš„å›¾ç‰‡æ˜¯commonjsï¼Œæ‰€ä»¥åœ¨è§£ææ—¶ä¼šæŠ¥é”™ã€‚æ­¤æ—¶éœ€è¦å°†url-loaderçš„ <code>esModule</code> å±æ€§è®¾ç½®ä¸ºfasle:</p>
<pre><code class="language-js">{
  test: /\.(jpeg|png|gif|jpg)$/,
  loader: 'url-loader',
  options: {
    limit: 8 * 1024,
    name: '[name].[hash:10].[ext]',
    esModule: false
  },
},
</code></pre>
</blockquote>
<h1 id="æ‰“åŒ…å…¶ä»–èµ„æº">æ‰“åŒ…å…¶ä»–èµ„æº</h1>
<p>æ‰“åŒ…å…¶ä»–èµ„æºï¼ˆæ¯”å¦‚å­—ä½“æ–‡ä»¶ç­‰ä¸éœ€è¦è¿›è¿‡loaderå¤„ç†çš„æ–‡ä»¶ï¼‰å°±æ˜¯å°†å…¶ä»–èµ„æºåŸå°ä¸åŠ¨åŸæ ·è¾“å‡ºã€‚è¿™éœ€è¦ç”¨åˆ° <code>file-loader</code>ã€‚åœ¨ä¸Šè¿°å¯¹cssä¸­çš„å›¾ç‰‡è¿›è¡Œæ‰“åŒ…æ—¶ï¼Œæˆ‘ä»¬å·²ç»å®‰è£…è¿‡è¿™ä¸ªåŒ…äº†ã€‚æ¥ä¸‹æ¥çš„é…ç½®å¾ˆç®€å• ï¼Œåªéœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">{
    exclude: /\.(html|js|css|sass)$/,
    loader: 'file-loader',
    options: {
      name: '[name]-[hash:10].[ext]'
    }
}
</code></pre>
<p>ä¸å…¶ä»–loaderé…ç½®ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç”¨testçš„å±æ€§å»åŒ¹é…å…·ä½“æ ¼å¼çš„æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡excludeçš„æ–¹å¼å°†ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶æ’é™¤å‡ºå»ï¼Œä¹‹åé€šè¿‡file-loaderè¿›è¡Œå¤„ç†è¾“å‡ºå³å¯ã€‚</p>
<h1 id="devserver">devServer</h1>
<p>åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªæœåŠ¡ç”¨æ¥åšä¸€äº›è¯¸å¦‚è‡ªåŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨åˆ·æ–°ç­‰ç­‰çš„è‡ªåŠ¨åŒ–æ“ä½œã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>devServer</code>ã€‚ç›¸å¯¹äºæ‰“åŒ…è¾“å‡ºæ–‡ä»¶åˆ°å¯¹åº”ç›®å½•ï¼Œ<strong>devServerä¸ä¼šæœ‰ä»»ä½•æ–‡ä»¶è¾“å‡º</strong>ã€‚</p>
<h3 id="å®‰è£…-4">å®‰è£…</h3>
<pre><code class="language-js">yarn add -D webpack-dev-server
</code></pre>
<h3 id="é…ç½®-4">é…ç½®</h3>
<p>åœ¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸‹ï¼Œæˆ‘ä»¬åŠ å…¥ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="language-js">const { resolve } = require('path')

module.exports = {
  entry: './src/js/index.js',
  // è¾“å‡º
  output: {
    filename: 'js/[name].[contenthash:10].js',
    //   __dirnameè¡¨ç¤ºå½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„
    path: resolve(__dirname, 'build'),
  },
  module: {
    rules: [/*...*/]
  },
  plugins: [
    /* ... */
  ],
  mode: 'development',
  devServer: {
    // è®¾ç½®è¿è¡Œçš„é¡¹ç›®è·¯å¾„
    contentBase: resolve(__dirname, 'build'),
    // å¯åŠ¨åæ‰“å¼€æµè§ˆå™¨
    open: true,
    // å¯åŠ¨gzipå‹ç¼©
    compress: true,
    // ç«¯å£é…ç½®
    port: 3000
  }
}
</code></pre>
<h3 id="å¯åŠ¨">å¯åŠ¨</h3>
<p>é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥å¯åŠ¨å‘½ä»¤ï¼ˆä¹Ÿå¯ä»¥å°†å¯åŠ¨å‘½ä»¤å†™å…¥ <code>package.json</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p>
<pre><code class="language-js">npx webpack-dev-server
</code></pre>
<p>å¯åŠ¨å®Œæˆåï¼Œä¼šè‡ªåŠ¨å”¤èµ·æµè§ˆå™¨ï¼Œæ‰“å¼€ç«¯å£ä¸º3000çš„æœ¬åœ°é¡µé¢ï¼Œå¹¶ä¸”å½“æˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ç›‘å¬ä»£ç çš„æ”¹åŠ¨è¿›è¡Œè‡ªåŠ¨ç¼–è¯‘ï¼Œå¹¶åˆ·æ–°é¡µé¢ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ§åˆ¶å°çš„ä¸€äº›è°ƒè¯•æŠ€å·§]]></title>
        <id>https://luhaifeng666.github.io/post/kong-zhi-tai-de-yi-xie-diao-shi-ji-qiao/</id>
        <link href="https://luhaifeng666.github.io/post/kong-zhi-tai-de-yi-xie-diao-shi-ji-qiao/">
        </link>
        <updated>2021-12-24T08:37:35.000Z</updated>
        <content type="html"><![CDATA[<h1 id="copying-saving">copying &amp; saving</h1>
<h3 id="copyæ–¹æ³•">copy()æ–¹æ³•</h3>
<p>é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å¤åˆ¶æŒ‡å®šçš„å€¼åˆ°å‰ªåˆ‡æ¿ã€‚å¼•ç”¨ç±»å‹çš„å€¼è¢«æ‹·è´ä¹‹åï¼Œå¯ä»¥å¾—åˆ°æ ¼å¼åŒ–åçš„ç»“æœã€‚ä¾‹å¦‚ï¼š<br>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15d1a892a2d04468902b4fabacc82f17~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
<h3 id="store-as-global-å­˜å‚¨ä¸ºä¸€ä¸ªå…¨å±€å˜é‡">store as global (å­˜å‚¨ä¸ºä¸€ä¸ªå…¨å±€å˜é‡)</h3>
<p>åœ¨å€¼ä¸Šå³é”®ï¼Œé€‰æ‹©Store as global variableï¼Œå¯ä»¥æŠŠè¿™ä¸ªå€¼å˜æˆå…¨å±€å˜é‡ï¼Œç¬¬ä¸€æ¬¡æ“ä½œï¼Œè‡ªåŠ¨åˆ›å»ºå…¨å±€å˜é‡   temp1ï¼Œç¬¬äºŒæ¬¡ä¸ºtemp2ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<h3 id="ä¿å­˜å †æ ˆä¿¡æ¯-stack-trace">ä¿å­˜å †æ ˆä¿¡æ¯ (stack trace)</h3>
<p>å›¢é˜Ÿåä½œæ—¶ï¼Œå¯ä»¥æŠŠæ‰“å°å‡ºæ¥çš„æŠ¥é”™ä¿¡æ¯å³é”®å¦å­˜ä¸ºæ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶å‘é€ç»™å…¶ä»–åŒäº‹ã€‚</p>
<h1 id="ä¸€äº›å¿«æ·é”®">ä¸€äº›å¿«æ·é”®</h1>
<ol>
<li>
<p>åœ¨PCä¸Mç«™å¼€å‘åˆ‡æ¢æ—¶ï¼Œ é‡åˆ°è°ƒè¯•åå°ä½ç½®éœ€è¦åˆ‡æ¢çš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé€‰æ‹©ç‚¹å‡»æ§åˆ¶å°çš„å¿«æ·æŒ‰é’®æ¥è°ƒæ•´æ§åˆ¶å°çš„æ˜¾ç¤ºä½ç½®ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>command+shift+D</code> å¿«æ·é”®è¿›è¡Œåˆ‡æ¢ï¼›</p>
</li>
<li>
<p>æ§åˆ¶å°æœ‰å¾ˆå¤šé¢æ¿ï¼Œè¯¸å¦‚Consoleã€Elementã€Networkã€‚ã€‚(BALABALA...)ï¼Œæ—¥å¸¸åˆ‡æ¢æˆ‘ä»¬å¯èƒ½ä¼šé€šè¿‡é¼ æ ‡æˆ–è€…è§¦æ§æ¿å»ç‚¹å‡»åˆ‡æ¢ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>command+[</code> ä»¥åŠ <code>command+]</code> è¿›è¡Œå·¦å³åˆ‡æ¢ï¼›</p>
</li>
<li>
<p>åœ¨è°ƒè¯•æ ·å¼çš„æ—¶å€™ï¼Œéœ€è¦ä¿®æ”¹æ•°å€¼ï¼Œé™¤äº†å¯ä»¥ç›´æ¥é€‰æ‹©è¿›è¡Œä¿®æ”¹ä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰å¿«æ·å¢å‡çš„æ–¹å¼ï¼Œæ–¹å¼å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<blockquote>
<ul>
<li>ä¸Šä¸‹ç®­å¤´ï¼šæ¯æ¬¡å¢å‡1;</li>
<li>shift + ä¸Šä¸‹ç®­å¤´ï¼š æ¯æ¬¡å¢å‡10;</li>
<li>command + ä¸Šä¸‹ç®­å¤´ï¼šæ¯æ¬¡å¢å‡100;</li>
<li>option + ä¸Šä¸‹ç®­å¤´ï¼šæ¯æ¬¡å¢å‡0.1;</li>
</ul>
</blockquote>
<h1 id="ä¸€äº›å‘½ä»¤">ä¸€äº›å‘½ä»¤</h1>
<ol>
<li>åœ¨æ§åˆ¶å°ä¸­ï¼Œé€šè¿‡å¿«æ·é”®command + shift + pï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›æŒ‡ä»¤ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</li>
</ol>
<blockquote>
<ul>
<li>Panel</li>
<li>Drawer</li>
<li>Appearance</li>
<li>Console</li>
<li>DevTools</li>
<li>Elements</li>
<li>Help</li>
<li>Mobile</li>
<li>Navigation</li>
<li>Network</li>
<li>Performance</li>
<li>Persistence</li>
<li>Rendering</li>
<li>Resources</li>
<li>Screenshot</li>
<li>Settings</li>
<li>Sources</li>
</ul>
</blockquote>
<p>ä¸€äº›å¥½ç”¨çš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<ol>
<li>æˆªå±ï¼šæˆ‘ä»¬å¯ä»¥åœ¨å¼¹å‡ºæ¥çš„é¢æ¿ä¸­æœç´¢screenï¼Œç„¶åå¯ä»¥çœ‹åˆ°Screenshotçš„å‡ ä¸ªé€‰é¡¹ï¼š</li>
</ol>
<ul>
<li>Capture area screenshoot: é€‰ä¸­è¯¥åŠŸèƒ½åï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©æˆªå›¾åŒºåŸŸï¼ˆè¯·è‡ªè¡Œè„‘è¡¥å¾®ä¿¡æˆªå›¾è°¢è°¢ï¼‰ï¼›</li>
<li>Capture full size screenshootï¼šæˆªå–çœŸä¸ªç½‘é¡µï¼ˆä¸æ˜¯å½“å‰è§†å£çš„æˆªå›¾ï¼Œè€Œæ˜¯æ•´ä¸ªç½‘é¡µçš„å®Œæ•´æˆªå›¾ï¼‰ï¼›</li>
<li>Capture node screenshoot: åœ¨é€‰ä¸­æŸä¸ªèŠ‚ç‚¹åï¼Œå¯ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½æˆªå–å¯¹åº”èŠ‚ç‚¹ï¼›</li>
<li>Capture screenshootï¼šè¯¥åŠŸèƒ½æ˜¯æˆªå–å¼€å¯æ§åˆ¶é¢æ¿åé¡µé¢çš„å¯è§†åŒºåŸŸã€‚</li>
</ul>
<ol start="2">
<li>åˆ‡æ¢ä¸»é¢˜ï¼šåœ¨å¼¹å‡ºçš„é¢æ¿ä¸­æœç´¢themeï¼Œå¯ä»¥åˆ‡æ¢é»‘è‰²ä¸»é¢˜æˆ–è€…ç™½è‰²ä¸»é¢˜ï¼›</li>
<li>å¿«é€Ÿæ˜¾ç¤ºæŸä¸ªé€‰é¡¹ï¼šåœ¨å¼¹å‡ºçš„é¢æ¿ä¸­æœç´¢panelï¼Œå¯ä»¥å¿«é€Ÿæ˜¾ç¤ºæŸä¸ªé€‰é¡¹å¡ï¼›</li>
<li>å¿«é€Ÿæ˜¾ç¤ºDraweré¢æ¿ä»¥åŠDraweré¢æ¿ä¸­çš„æŸäº›é€‰é¡¹å¡ï¼šåœ¨å¼¹å‡ºçš„é¢æ¿ä¸­æœç´¢Drawerè¿›è¡Œåˆ‡æ¢å³å¯ï¼›</li>
<li>æƒ³è¦æµ‹è¯•åœ¨è¾ƒæ…¢ç½‘é€Ÿä¸‹çš„åŠ è½½æƒ…å†µï¼Œå¯ä»¥è°ƒåˆ°3gæ¨¡å¼ï¼Œæœç´¢netWorkå³å¯æ‰¾åˆ°è¯¥é¡¹é…ç½®ï¼›</li>
<li>é€šè¿‡Consoleä¸‹çš„show TimeStampsåŠŸèƒ½ï¼Œå¯ä»¥ç»™æ‰“å°çš„consoleå­—æ®µåŠ ä¸Šæ—¶é—´æˆ³ã€‚</li>
</ol>
</blockquote>
<ol start="2">
<li>åœ¨sourceé¢æ¿ï¼Œé€šè¿‡command + På¿«æ·é”®ï¼Œè°ƒå‡ºé¢æ¿ï¼Œè¾“å…¥: <code>+ æ•°å­—</code> ï¼Œå¯ä»¥è·³è½¬åˆ°å¯¹åº”çš„è¡Œæ•°</li>
</ol>
<h1 id="ä»£ç å—çš„ä½¿ç”¨">ä»£ç å—çš„ä½¿ç”¨</h1>
<p>æˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›JSä»£ç å—æ”¾åˆ°DevToolsä¸­ï¼Œç„¶åå¯ä»¥å¤ç”¨è¿™äº›ä»£ç å—ã€‚åœ¨Sourcesé¢æ¿ä¸­ï¼Œé€‰æ‹©å·¦ä¾§èœå•ä¸­çš„<code>Snippets</code> åŠŸèƒ½ï¼Œç„¶åè¾“å…¥ä½ æƒ³è¦å¤ç”¨çš„ä»£ç ï¼Œç„¶åä¿å­˜å³å¯ã€‚é€šè¿‡å¿«æ·é”® <code>command + enter</code> å¯ä»¥è¿è¡Œä»£ç ã€‚åœ¨å…¶ä»–é¢æ¿ä¸­ï¼Œé€šè¿‡ <code>command + p</code> å¿«æ·é”®è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œé”®å…¥ <code>! + ä¿å­˜çš„ä»£ç å—åç§°</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œå…ˆå‰ä¿å­˜çš„ä»£ç ã€‚</p>
<h1 id="consoleä¸­çš„">consoleä¸­çš„ â€˜$â€™</h1>
<ol>
<li><code>$0</code> æŒ‡ä»£çš„æ˜¯å½“å‰æˆ‘ä»¬é€‰ä¸­çš„èŠ‚ç‚¹ï¼Œ<code>$1</code>æŒ‡æˆ‘ä»¬å‰ä¸€æ¬¡é€‰ä¸­çš„DOMèŠ‚ç‚¹ï¼Œ<code>$2</code> æŒ‡ä¸Šä¸Šæ¬¡ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸€ç›´åˆ°<code>$4</code>;</li>
<li><code>$</code> å’Œ <code>$$</code>: å¦‚æœæ²¡æœ‰å¼•å…¥JQæˆ–è€…é‡å®šä¹‰è¿‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">ï¼Œ</mi><mi mathvariant="normal">é‚£</mi><mi mathvariant="normal">ä¹ˆ</mi></mrow><annotation encoding="application/x-tex">ï¼Œé‚£ä¹ˆ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord cjk_fallback">é‚£</span><span class="mord cjk_fallback">ä¹ˆ</span></span></span></span>åˆ™æ˜¯ <code>document.querySelector</code> çš„åˆ«åï¼Œå³:<code>$('div') === document.querySelector('div')</code>ï¼›è€Œ <code>$$</code> åˆ™æ˜¯ <code>document.querySelectorAll</code>ï¼Œè¿”å›çš„æ˜¯ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹æ•°ç»„ï¼›</li>
<li>å¦‚æœä½ æƒ³æŸ¥çœ‹ä¸Šä¸€æ¬¡çš„æ‰§è¡Œç»“æœï¼Œå¯ä»¥é€šè¿‡ <code>$_</code> æŸ¥çœ‹ï¼›</li>
<li><code>$i</code>: è¿™ä¸ªå°±å‰å®³äº†ï¼Œæ˜¯åœ¨æ§åˆ¶é¢æ¿ä¸­ä½¿ç”¨npmåŒ…ï¼Œéœ€è¦é…åˆä¸€ä¸ªchromeæ’ä»¶ï¼š<code>Console Importer</code>, ç„¶ååœ¨consoleé¢æ¿ä¸­ä½¿ç”¨ <code>$i</code> å‘½ä»¤ã€‚ä¾‹å¦‚ï¼š<code>$i('lodash')</code>, ç„¶åå°±å¯ä»¥åœ¨é¢æ¿ä¸­ä½¿ç”¨lodashçš„åŠŸèƒ½ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å¼•å…¥ä¸€äº›åº“ã€‚</li>
</ol>
<h1 id="é•œåƒæ–¹æ³•">é•œåƒæ–¹æ³•</h1>
<h3 id="monitor">monitor</h3>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥è¿½è¸ªæ–¹æ³•çš„è°ƒç”¨ï¼Œç„¶ååœ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºæ–¹æ³•åä»¥åŠä¼ å…¥çš„å‚æ•°ä¾‹å¦‚ï¼šå…ˆå®šä¹‰ä¸€ä¸ªç±»ï¼š</p>
<pre><code class="language-js">class Person {
  constructor(name, role) {
    this.name = name;
    this.role = role;
  }
  greet() {
    return this.getMessage('greeting');
  }
  getMessage(type) {
    if (type === 'greeting') {
      return `Hello, I'm ${this.name}!`;
    }
  }
}
</code></pre>
<p>ç„¶ååœ¨æ§åˆ¶å°ä¸­è¾“å…¥:</p>
<pre><code class="language-js">let Json = new Person('Json')
monitor(Json.getMessage) // è¿½è¸ªgetMessageæ–¹æ³•
Json.greet()
// æ­¤æ—¶è¾“å‡ºå¦‚ä¸‹
// function getMessage called with arguments: greeting
// &quot;Hello, I'm Json!&quot;
// å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†è¢«è°ƒç”¨æ–¹æ³•çš„åç§°â€œgetMessageâ€ä»¥åŠè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ä¼ å…¥çš„å‚æ•°â€œgreetingâ€
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å‡å°‘æˆ‘ä»¬ä½¿ç”¨consoleçš„æ¬¡æ•°ï¼Œä¸ç”¨åœ¨getMessageä¸­ä½¿ç”¨consoleå»æ‰“å°ä¼ å…¥çš„å‚æ•°ã€‚é€š        è¿‡ <code>unmonitor</code> å¯ä»¥å–æ¶ˆé•œåƒã€‚</p>
<h3 id="monitorevents-é•œåƒäº‹ä»¶æ–¹æ³•">monitorEvents é•œåƒäº‹ä»¶æ–¹æ³•</h3>
<p>è¯¥æ–¹æ³•å¯ä»¥é•œåƒeventsçš„ä¸€äº›æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<code>monitorEvents($0, 'click')</code>ï¼Œè¿™ä¸ªå¯ä»¥é•œåƒclickæ–¹æ³•ï¼Œç„¶åç‚¹å‡»æ¯ä¸ªå…ƒç´ çš„æ—¶å€™ä¼šè¿”å›clickæ–¹æ³•åä»¥åŠå‚æ•°ã€‚é€šè¿‡unmonitorEventsæ–¹æ³•å¯ä»¥å–æ¶ˆé•œåƒã€‚</p>
<h1 id="consoleçš„ä¸€äº›æ“ä½œ">consoleçš„ä¸€äº›æ“ä½œ</h1>
<h3 id="consoleassert">console.assert()</h3>
<p>å½“è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºfalseæ—¶ï¼Œä¼šæ‰“å°å‡ºåé¢çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°å †æ ˆä¿¡æ¯ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å‡å°‘ifæ¡ä»¶è¯­å¥çš„ä½¿ç”¨:</p>
<pre><code class="language-js">let a = null
console.assert(a, 'error')
// å¦‚æœç”¨ifæ”¹å†™
if (!a) console.log('errror')
</code></pre>
<h3 id="consolelog">console.log({...})</h3>
<p>å½“æˆ‘ä»¬éœ€è¦æ‰“å°å¤šä¸ªå€¼çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨console.log()æ‰“å°å‡ºæ¥çš„æ˜¯å€¼çš„åˆ—è¡¨ï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œæ— æ³•å¯¹åº”åˆ°å…·ä½“çš„å€¼:</p>
<pre><code class="language-js">const a = 1
const b = 'test'
const c = +new Date()
console.log(a, b, c) // 1 &quot;test&quot; 1570695681442
// è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å†™ä¸€ä¸‹
console.log({a, b, c}) // {a: 1, b: &quot;test&quot;, c: 1570695681442}
// æ­¤æ—¶å¯ä»¥æ¯”è¾ƒæ¸…æ¥šçš„çœ‹åˆ°å˜é‡åä¸å€¼ä¹‹é—´çš„å¯¹åº”
</code></pre>
<h3 id="consoletable">console.table()</h3>
<p>ç›¸è¾ƒäº <code>console.log</code>, è¿™ç§æ–¹å¼å¯ä»¥æŠŠæ•°ç»„æˆ–è€…å¯¹è±¡ç±»å‹çš„å€¼ï¼Œæ‰“å°æˆè¡¨æ ¼çš„å½¢å¼ï¼Œæ›´åŠ ç›´è§‚ï¼Œé…åˆä¸Šé¢çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥æ‰“å°å¤šä¸ªå€¼ï¼š<code>console.table({a, b, c})</code>ï¼›</p>
<h3 id="consoledir">console.dir()</h3>
<p>è¾“å‡ºæŸä¸€èŠ‚ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹ä¸Šçš„å±æ€§ç­‰ç­‰ï¼›</p>
<h3 id="c">%c</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨console.logçš„å†…å®¹å‰åŠ ä¸Š <code>'%c'</code> çš„æ–¹å¼æ¥ç»™æ‰“å°çš„å†…å®¹æ·»åŠ æ ·å¼ <strong>(æ³¨æ„ï¼š'%c'ä¸æ‰“å°çš„å†…å®¹ä¹‹é—´éœ€è¦ç”¨ç©ºæ ¼éš”å¼€)</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-js">console.log('%c test', 'font-size:13px;color:red;')
</code></pre>
<h3 id="å®æ—¶è¡¨è¾¾å¼">å®æ—¶è¡¨è¾¾å¼</h3>
<p>åœ¨consoleé¢æ¿ä¸‹ï¼Œæœ‰ä¸ªé•¿å¾—åƒçœ¼ç›çš„ç©æ„ï¼š<br>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/25c621a3c8714708a1b923a02aa3b588~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"><br>
é€šè¿‡è¿™ä¸ªæŒ‰é’®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå®æ—¶è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼çš„å€¼ä¼šä¸æ–­æ›´æ–°ã€‚</p>
<h1 id="é‡æ–°å‘é€æ¥å£è¯·æ±‚">é‡æ–°å‘é€æ¥å£è¯·æ±‚</h1>
<p>å¯ä»¥å³é”®æŸä¸€ä¸ªè¯·æ±‚ï¼Œé€‰æ‹©replay XHRï¼Œè€Œä¸ç”¨é€šè¿‡åˆ·æ–°é¡µé¢çš„æ–¹å¼ï¼›</p>
<h1 id="å…ƒç´ é¢æ¿çš„ä¸€äº›æŠ€å·§">å…ƒç´ é¢æ¿çš„ä¸€äº›æŠ€å·§</h1>
<ol>
<li>
<p>é€‰ä¸­æŸä¸ªDOMå…ƒç´ ï¼Œé€šè¿‡Hé”®æ§åˆ¶è¯¥DOMå…ƒç´ çš„æ˜¾ç¤ºè·Ÿéšè—ï¼›</p>
</li>
<li>
<p>åœ¨æ ·å¼é¢æ¿ä¸­ï¼Œå¯ä»¥ç‚¹å¼€box-shadowçš„ç¼–è¾‘é¢æ¿ç›´æ¥ç¼–è¾‘ï¼Œè€Œéé€šè¿‡æ”¹å€¼çš„æ–¹å¼:<br>
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ba73e76797146888dd9d6281dbac942~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
</li>
<li>
<p>é€šè¿‡æ ·å¼é¢æ¿å³ä¸‹è§’çš„å¿«æ·æŒ‰é’®ä¹Ÿå¯ä»¥å¿«é€Ÿè°ƒæ•´æ ·å¼:<br>
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9c785bf31864493be2375eec90a57a3~tplv-k3u1fbpfcp-watermark.image" alt="" loading="lazy"></p>
</li>
<li>
<p>ä¸€æ¬¡æ€§å±•å¼€æ‰€æœ‰çš„DOMèŠ‚ç‚¹ï¼šå¦‚æœæƒ³æŸ¥çœ‹æŸä¸ªçˆ¶èŠ‚ç‚¹ä¸‹çš„å­èŠ‚ç‚¹ï¼Œå¦‚æœå­èŠ‚ç‚¹çš„å±‚çº§è¾ƒæ·±ï¼Œé€šè¿‡ç‚¹ç®­å¤´å±•å¼€çš„æ–¹å¼å¤ªè¿‡éº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ <code>expand recursively</code> å‘½ä»¤ä¸€æ¬¡æ€§å±•å¼€è¯¥èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼›</p>
</li>
<li>
<p>DOMæ–­ç‚¹ï¼šé€šè¿‡é€‰æ‹©å¯¹åº”èŠ‚ç‚¹Break onä¸­çš„è®¾ç½®æ¥ç›‘å¬DOMçš„æ“ä½œï¼Œä¸»è¦æœ‰å¦‚ä¸‹ä¸‰ç§è®¾ç½®ï¼š</p>
</li>
</ol>
<blockquote>
<ul>
<li>subtree modifications: ç›‘å¬è¯¥èŠ‚ç‚¹å†…éƒ¨èŠ‚ç‚¹è¢«ç§»é™¤æˆ–è€…æ·»åŠ çš„äº‹ä»¶ï¼›</li>
<li>attribute modifications: ç›‘å¬é€‰ä¸­èŠ‚ç‚¹å±æ€§çš„æ·»åŠ ï¼Œç§»é™¤æˆ–ä¿®æ”¹çš„äº‹ä»¶ï¼›</li>
<li>node removalï¼šç›‘å¬é€‰ä¸­å…ƒç´ è¢«ç§»é™¤çš„äº‹ä»¶ã€‚</li>
</ul>
</blockquote>
<h1 id="draweré¢æ¿">Draweré¢æ¿</h1>
<p>Draweré¢æ¿æ˜¯ä¸ä¸»é¢æ¿å¹³è¡Œçš„ä¸€ç»„é¢æ¿ï¼Œéšè—åœ¨ä¸»é¢æ¿ä¹‹ä¸‹ï¼Œé€šè¿‡ç‚¹å‡»escé”®å¯ä»¥æ§åˆ¶æ˜¾ç¤ºæˆ–è€…éšè—ã€‚<br>
Drawerä¸­æœ‰å‡ ä¸ªæœ‰è¶£çš„å±æ€§:</p>
<ol>
<li>æ§åˆ¶ä¼ æ„Ÿå™¨ï¼šå½“æˆ‘ä»¬éœ€è¦æ¨¡æ‹Ÿæµ‹è¯•é™€æ—‹ä»ªæˆ–è€…æµ‹è¯•ä¸€äº›è·å–åœ°ç†ä½ç½®çš„APIæ—¶ï¼Œå¯ä»¥ä½¿ç”¨Senorsé€‰é¡¹ï¼›</li>
<li>æ¨¡æ‹Ÿç½‘ç»œçŠ¶æ€ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡Network conditionså±æ€§æ§åˆ¶ç½‘ç»œçš„çŠ¶æ€ï¼Œç”šè‡³å¯ä»¥æ§åˆ¶ç¦»çº¿ï¼›</li>
<li>æ£€æŸ¥ä¿®æ”¹çš„å†…å®¹ï¼šå½“æˆ‘ä»¬åœ¨æ§åˆ¶é¢æ¿ä¸­å¯¹æ ·å¼åšå‡ºä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡changesçœ‹åˆ°æ‰€æœ‰çš„å˜åŒ–ï¼Œå¹¶å¯ä»¥çœ‹åˆ°ä¿®æ”¹å‰åçš„å¯¹æ¯”ï¼ˆè¯·è‡ªè¡Œè„‘è¡¥GITè°¢è°¢~ï¼‰ã€‚ç„¶åå¯ä»¥æ’¤é”€æ‰€æœ‰æ”¹åŠ¨ï¼›</li>
<li>ä»£ç æ£€æŸ¥ï¼šcoverageå±æ€§å¯ä»¥ç”¨æ¥æ£€æŸ¥å½“å‰åŠ è½½çš„JSä¸CSSæ–‡ä»¶çš„é‚£äº›è¡Œæ­£åœ¨è¢«æ‰§è¡Œï¼Œå¹¶æ˜¾ç¤ºæœªä½¿ç”¨å­—èŠ‚çš„ç™¾åˆ†æ¯”ã€‚å…¶ä¸­ï¼Œè¿è¡Œçš„ç”¨ç»¿çº¿è¡¨ç¤ºï¼Œæœªè¿è¡Œçš„ç”¨çº¢çº¿è¡¨ç¤ºã€‚</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ©ç”¨Git Actionséƒ¨ç½²vuepress]]></title>
        <id>https://luhaifeng666.github.io/post/li-yong-git-actions-bu-shu-vuepress/</id>
        <link href="https://luhaifeng666.github.io/post/li-yong-git-actions-bu-shu-vuepress/">
        </link>
        <updated>2021-12-24T08:36:22.000Z</updated>
        <content type="html"><![CDATA[<h1 id="èƒŒæ™¯">èƒŒæ™¯</h1>
<p>æœ€è¿‘æ‰“ç®—åœ¨gitä¸Šå‘å¸ƒä¸€ä¸ªå­¦ä¹ ç¬”è®°æ–‡æ¡£ï¼Œæ–‡æ¡£ä½¿ç”¨ <code>vuepress</code> æ­å»ºï¼Œç„¶åå‘å¸ƒåˆ°gitçš„pagesä¸Šã€‚è€ƒè™‘åˆ°æ¯æ¬¡å‘å¸ƒéƒ½éœ€è¦æ‰‹åŠ¨deployä¸€æŠŠï¼Œæœ‰ç‚¹ç¹çï¼Œäºæ˜¯ä¹æ‰“ç®—ä½¿ç”¨gitçš„ <code>Actions</code> åŠŸèƒ½å°†è¿™ä¸ªæ‰‹åŠ¨çš„è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚</p>
<h1 id="å¼€å§‹">å¼€å§‹</h1>
<h2 id="åˆå§‹åŒ–vupressé¡¹ç›®">åˆå§‹åŒ–vupressé¡¹ç›®</h2>
<p>å…³äºvuepressé¡¹ç›®çš„åˆå§‹åŒ–ï¼Œå®˜ç½‘å·²ç»ç»™å‡ºäº†éå¸¸è¯¦ç»†çš„æ“ä½œæ­¥éª¤ï¼Œå¯ä»¥ç§»æ­¥è‡³<a href="https://vuepress.vuejs.org/zh/guide/getting-started.html">å®˜ç½‘</a>æŸ¥çœ‹ã€‚</p>
<h2 id="éƒ¨ç½²">éƒ¨ç½²</h2>
<h3 id="ç¬¬ä¸€æ­¥-é…ç½®pages">ç¬¬ä¸€æ­¥: é…ç½®pages</h3>
<p>å…³äºpagesçš„é…ç½®æ–¹æ³•ï¼Œvuepresså®˜ç½‘ä¹Ÿç»™å‡ºäº†è¯¦å°½çš„æè¿°ï¼š<a href="https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages">GitPages</a>ã€‚</p>
<h3 id="ç¬¬äºŒæ­¥-è®¾ç½®deploy-key-ä»¥åŠ-secrets">ç¬¬äºŒæ­¥: è®¾ç½®Deploy Key ä»¥åŠ Secrets</h3>
<p>åé¢å‘å¸ƒæ—¶ï¼Œéœ€è¦å°†æ„å»ºåçš„ä»£ç æ¨é€åˆ°ä»£ç ä»“åº“ï¼Œæ‰€ä»¥éœ€è¦Gitçš„ç§˜é’¥ã€‚</p>
<p>é¦–å…ˆé€šè¿‡ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆç§é’¥è·Ÿå…¬é’¥ï¼š</p>
<pre><code>ssh-keygen -t rsa -C 'é‚®ç®±åœ°å€'
</code></pre>
<p>ç”Ÿæˆåï¼Œæ‰“å¼€Gité¡¹ç›®çš„è®¾ç½®ï¼Œé€‰æ‹© <code>Deploy keys</code>æ–°å»ºdeploy keyï¼Œå°†å…¬é’¥çš„å†…å®¹å¡«å…¥ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3be33455d934152b424ecd4e5b70b2a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>ä¹‹åå†é€‰æ‹© <code>Secrets</code> é€‰é¡¹ï¼Œæ–°å»ºç§é’¥ï¼Œå°†ç§é’¥å†…å®¹å¡«å…¥ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ed4aa1c2cc64923b163e6b4fa98b5e2~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<h3 id="ç¬¬ä¸‰æ­¥-æ–°å»ºaction">ç¬¬ä¸‰æ­¥: æ–°å»ºAction</h3>
<p>é€‰æ‹© <code>Actions</code>ï¼Œ æ–°å»ºä¸€ä¸ªworkflowã€‚åœ¨Actionsç•Œé¢ï¼ŒGitä¼šæä¾›ä¸€äº›æ¨¡æ¿ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©é»˜è®¤çš„å³å¯</p>
<figure data-type="image" tabindex="3"><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/457b7538384c4f3d8872a7269b3aa9c4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>æ–°å»ºå®Œæˆåï¼Œä¼šé»˜è®¤åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸‹ç”Ÿæˆä¸€ä¸ª <code>.github/workflows/blank.yml</code> æ–‡ä»¶ï¼Œç”¨äºé…ç½®è„šæœ¬, æˆ‘ä»¬å°†å…¶ç¨ä½œä¿®æ”¹ï¼š</p>
<pre><code class="language-js"># ciè„šæœ¬çš„åç§°
name: VUE3-STUDY DOCS CI
# è§¦å‘çš„æ—¶æœº
on:
  # åœ¨pushé˜¶æ®µè§¦å‘
  push:
    # å¯¹åº”çš„åˆ†æ”¯
    branches: [ main ]
  # åœ¨PRé˜¶æ®µè§¦å‘
  pull_request:
    # å¯¹åº”çš„åˆ†æ”¯
    branches: [ main ]
# æ‰§è¡Œçš„ä»»åŠ¡
jobs:
  # ä»»åŠ¡åç§°
  build:
    # æ‰§è¡Œçš„ç¯å¢ƒï¼Œé»˜è®¤æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„Ubuntuç³»ç»Ÿ
    runs-on: ubuntu-latest
    # æ‰§è¡Œçš„æ­¥éª¤
    steps:
      # checkoutä»£ç 
      # å…¶ä¸­actionsæ˜¯githubå®˜æ–¹è´¦å·ï¼Œcheckoutæ˜¯æ”¹è´¦å·ä¸‹æä¾›çš„åº“ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œå¯¹åº”çš„ç‰ˆæœ¬æ˜¯v2
      # setup-nodeåŒä¸Š
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        # è®¾ç½®nodeçš„ç‰ˆæœ¬
        with:
          node-version: '14'
        # æ‰§è¡Œæ­¥éª¤çš„åç§°
      - name: Compiling start
        # æ‰§è¡Œçš„å…·ä½“è„šæœ¬
        run: echo Compiling start!
        # å¦‚æœåœ¨æ‰§è¡Œçš„æ—¶å€™æŠ¥é”™ï¼Œæç¤ºéœ€è¦ç”¨æˆ·åè·Ÿé‚®ç®±ï¼Œé‚£ä¹ˆéœ€è¦å•ç‹¬è®¾ç½®ä¸‹é‚®ç®±è·Ÿç”¨æˆ·å
      - run: git config --global user.email &quot;your email address&quot;
      - run: git config --global user.name &quot;your user name&quot;
        # æ‰§è¡Œå®‰è£…è·Ÿæ‰“åŒ…å‘½ä»¤
      - run: npm install &amp;&amp; npm run docs:build
      - name: Deploy
        # è¿™ä¸ªæ˜¯ç¬¬ä¸‰æ–¹æä¾›çš„åº“ï¼Œå¯ä»¥æ¨é€æ‰“åŒ…åçš„å†…å®¹åˆ°æŒ‡å®šåˆ†æ”¯
        uses: peaceiris/actions-gh-pages@v3
        with:
          # è¿™è¾¹éœ€è¦è®¾ç½®ç¬¬äºŒæ­¥è·å–åˆ°çš„deploy keyï¼Œå¦åˆ™ä¼šæç¤ºæ²¡æœ‰æƒé™æ¨é€ä»£ç 
          deploy_key: ${{ secrets.VUE3STUDY }}
          # æ¨é€åˆ°è¯¥ä»“åº“ä¸­ï¼Œåœ°å€æ ¼å¼ä¸ºgithubåç§°/ä»“åº“å
          external_repository: xxx/xxx
          # æ¨é€çš„åˆ†æ”¯
          publish_branch: gh-pages
          # æ¨é€çš„å†…å®¹
          publish_dir: docs/.vuepress/dist
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œå°†å†…å®¹pushä¸Šå»ï¼Œactionå°±ä¼šè‡ªåŠ¨æ‰§è¡Œäº†ï¼š</p>
<figure data-type="image" tabindex="4"><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a0ae8e55e714f669f0d91afbd8c3ece~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>ç­‰å¾…æ‰§è¡Œå®Œæ¯•åï¼Œå³å¯æŸ¥çœ‹é¡µé¢~</p>
<h1 id="å†™åœ¨æœ€å">å†™åœ¨æœ€å</h1>
<p>æœ¬æ–‡æ˜¯å…³äºgit actionsçš„ä¸€æ¬¡ç®€å•å°è¯•ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»å‚è€ƒ<a href="https://docs.github.com/en/actions/learn-github-actions">git acitonå®˜æ–¹æ–‡æ¡£</a>å»åšè¿›ä¸€æ­¥ç ”ç©¶~</p>
<p>æ–‡ä¸­æ‰€è¿°æ–‡æ¡£å·²éƒ¨ç½²ï¼Œ<a href="https://luhaifeng666.github.io/vue3-study/">æ¬¢è¿æˆ³</a>~</p>
<p><a href="https://github.com/luhaifeng666/vue3-study">Gitåœ°å€</a>, æ¬¢è¿â­ï¸äº¤æµ~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é€šè¿‡Git Actionsè‡ªåŠ¨åˆ›å»ºissues]]></title>
        <id>https://luhaifeng666.github.io/post/tong-guo-git-actions-zi-dong-chuang-jian-issues/</id>
        <link href="https://luhaifeng666.github.io/post/tong-guo-git-actions-zi-dong-chuang-jian-issues/">
        </link>
        <updated>2021-12-24T08:34:12.000Z</updated>
        <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ€è¿‘åœ¨åˆ·LeetCodeä¸Šçš„é¢˜ï¼Œæƒ³ç€æ€ä¹ˆç€å¾—æä¸ªæ–‡æ¡£è®°å½•ä¸‹é¢˜ç›®ã€æ€è·¯è·Ÿè§£æ³•å§ï¼Œåˆšå¥½å‰é˜µå­ä½¿ç”¨GitHubçš„<code>Actions</code>ï¼Œç»“åˆ <code>vuepress</code> ï¼Œå°†æ–‡ç« è‡ªåŠ¨éƒ¨ç½²åˆ°äº†GitHubçš„pagesä¸Šã€‚é‚£ä¸å¦‚ä¹Ÿåœ¨GitHubä¸Šå»ºä¸ªç®—æ³•çš„æ–‡æ¡£å‘—ã€‚</p>
<p>ä½†æ˜¯ç®—æ³•çš„è§£é¢˜æ–¹æ³•è·Ÿæ€è·¯ä¸ä¸€å®šåªæœ‰å‡ ä¸ªï¼Œä¸åŒè¯­è¨€çš„å®ç°æ–¹å¼ä¹Ÿæ˜¯ä¸å°½ç›¸åŒçš„ï¼Œæ—¢å¦‚æ­¤ï¼Œé‚£å°±é’ˆå¯¹ä¸åŒçš„ç®—æ³•é¢˜åˆ›å»ºå¯¹åº”çš„issueä½œä¸ºè¯„è®ºåŒºï¼Œä»¥ä¾›å¤§ä½¬ä»¬å±•ç¤ºå„è‡ªçš„éªšæ“ä½œï¼Œè¿™æ ·ä¸€æ¥ï¼Œå²‚ä¸æ˜¯ç¾æ»‹å„¿æ»‹å„¿~</p>
<figure data-type="image" tabindex="1"><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2092390eb6344468ebfd67edf032dac~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>ä½†æ˜¯æ‰‹åŠ¨åˆ›å»ºè¿™äº›ä¸ªissuesæ˜¾ç„¶ä¸å¤Ÿä¼˜é›…ï¼Œæ—¢ç„¶å·²ç»å°è¿‡ <code>Actions</code> çš„ç”œå¤´äº†ï¼Œé‚£è¿™ä¸ªæ´»å„¿å°±äº¤ç»™å®ƒå»åšå§ï¼</p>
<p>ï¼ˆActionsè¿‡æ¥ä¸‹ï¼æ¥æ´»å„¿äº†ï¼ï¼‰</p>
<pre><code>æ³¨ï¼šæœ¬æ–‡ä¸»è¦åˆ†äº«å¦‚ä½•åˆ©ç”¨Actionsè‡ªåŠ¨åˆ›å»ºissuesï¼Œå…³äºå¦‚æœè‡ªåŠ¨éƒ¨ç½²æ–‡æ¡£çš„æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ï¼š
https://juejin.cn/post/7029247758582153252
</code></pre>
<h1 id="å¼€å§‹">å¼€å§‹</h1>
<p>æƒ³è¦å®Œæˆå¦‚é¢˜æ‰€è¿°çš„åŠŸèƒ½ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<pre><code>1. åˆ›å»ºissue
2. é€šè¿‡Actionsï¼Œå°†åˆ›å»ºissueçš„è¿‡ç¨‹è‡ªåŠ¨åŒ–
</code></pre>
<h2 id="åˆ›å»ºissue">åˆ›å»ºissue</h2>
<p>è¿™é‡Œåˆ›å»ºissueçš„æ–¹å¼è‚¯å®šä¸æ˜¯æ‰‹åŠ¨å»GitHubçš„é¡¹ç›®ä¸‹åˆ›å»ºã€‚</p>
<div align="center">
<figure data-type="image" tabindex="2"><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac99a913c4c9433db885416e5fe880f6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
</div>
<p>è¿™é‡Œæ¨èä¸€ä¸ªåº“ï¼š<code>octokit</code>ã€‚è¿™ä¸ªåº“æä¾›äº†æ“ä½œGitHubçš„èƒ½åŠ›ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒæ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºissueã€‚</p>
<p>å½“ç„¶ï¼Œå®ƒæ‰€æä¾›çš„èƒ½åŠ›ä¸åªæ˜¯å¯ä»¥æ“ä½œGitHubï¼Œå®˜æ–¹æ‰€ç»™çš„æè¿°å¦‚ä¸‹ï¼š</p>
<pre><code>TheÂ `octokit`Â package integrates the three main Octokit libraries
1.  **API client**Â (REST API requests, GraphQL API queries, Authentication)
2.  **App client**Â (GitHub App &amp; installations, Webhooks, OAuth)
3.  **Action client**Â (Pre-authenticated API client for single repository)
</code></pre>
<p>æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥<a href="https://www.npmjs.com/package/octokit">æˆ³é“¾æ¥</a>è‡ªè¡Œæ¢ç©¶ï¼Œè¿™é‡Œä¸åšè¿‡å¤šèµ˜è¿°~</p>
<h4 id="ç¬¬ä¸€æ­¥è€è§„çŸ©æ—¢ç„¶è¦ç”¨åˆ°å®ƒé‚£å°±å…ˆå®‰è£…ä¸€æŠŠ">ç¬¬ä¸€æ­¥ï¼šè€è§„çŸ©ï¼Œæ—¢ç„¶è¦ç”¨åˆ°å®ƒï¼Œé‚£å°±å…ˆå®‰è£…ä¸€æŠŠï¼š</h4>
<pre><code>yarn add -D octokit
</code></pre>
<h4 id="ç¬¬äºŒæ­¥æ–°å»ºåˆ›å»ºissueçš„æ‰§è¡Œæ–‡ä»¶">ç¬¬äºŒæ­¥ï¼šæ–°å»ºåˆ›å»ºissueçš„æ‰§è¡Œæ–‡ä»¶</h4>
<p>å°†åˆšæ‰å®‰è£…çš„ <code>octokit</code> å¼•å…¥è¿›æ¥ï¼Œå¼€å§‹ç¼–å†™åˆ›å»ºissueçš„é€»è¾‘ã€‚</p>
<pre><code class="language-js">// utils/createIssues.js

const { Octokit } = require(&quot;octokit&quot;)
// åˆå§‹åŒ–ï¼Œè¿™é‡Œéœ€è¦ä¼ å…¥GitHubè´¦å·çš„token
const octokit = new Octokit({ auth: 'your token' })

octokit.rest.issues.create({
  owner: &quot;your name&quot;, // GitHubè´¦æˆ·å
  repo: &quot;your project name&quot; // é¡¹ç›®åç§°
  title: 'åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹', // issueæ ‡é¢˜
  body: 'å…³äºåˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹çš„æ›´å¤šè§£æ³•ï¼Œæ¬¢è¿åœ¨issueä¸­è®¨è®º~' // issueæè¿°
})
</code></pre>
<p>åˆå§‹åŒ– <code>octokit</code> çš„æ—¶å€™ï¼Œéœ€è¦GitHubè´¦æˆ·çš„tokenï¼Œå¯ä»¥å»è´¦æˆ·è®¾ç½®ä¸­æ–°å»ºä¸€ä¸ª</p>
<figure data-type="image" tabindex="3"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f211f33ab11a42e9a9c33e9d04266ace~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>æ–‡ä»¶åˆ›å»ºå®Œæˆåï¼Œåœ¨æ§åˆ¶å°ä¸­å°è¯•è¿è¡Œä¸‹ï¼Œçœ‹çœ‹æ˜¯å¦å·²ç»å¯ä»¥åˆ›å»ºissueäº†ã€‚<br>
é¦–å…ˆåœ¨ <code>package.json</code> çš„ <code>scripts</code> ä¸­æ·»åŠ  <code>create:issue</code> å‘½ä»¤</p>
<pre><code>scripts: {
  &quot;create:issue&quot;: &quot;node utils/createIssues.js&quot;
}
</code></pre>
<p>ç„¶åæ‰§è¡Œ</p>
<pre><code>yarn create:issue
</code></pre>
<p>æ‰§è¡Œå®Œè„šæœ¬åï¼Œåˆ°GitHubç›¸åº”çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œç‚¹å¼€ <code>Issues</code> é€‰é¡¹ï¼š</p>
<figure data-type="image" tabindex="4"><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0905d145ccf49febddc5c439380f401~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>å½“å½“~ æ­¤æ—¶æˆ‘ä»¬å·²ç»å¯ä»¥çœ‹åˆ°issueè¢«æˆåŠŸåˆ›å»ºï¼è‡³æ­¤ï¼Œæˆ‘ä»¬ç¬¬ä¸€ä¸ªåŠŸèƒ½ç‚¹å°±å·²ç»å®Œæˆäº†ï¼ï¼ˆæ’’èŠ±~ï¼‰</p>
<h2 id="é€šè¿‡actionså°†åˆ›å»ºissueçš„è¿‡ç¨‹è‡ªåŠ¨åŒ–">é€šè¿‡Actionsï¼Œå°†åˆ›å»ºissueçš„è¿‡ç¨‹è‡ªåŠ¨åŒ–</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æŠŠåˆ›å»ºissueçš„è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å®˜æ–¹æä¾›çš„<a href="https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action">åˆ›å»ºJavascriptçš„actions</a>çš„æ–¹å¼æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h4 id="ç¬¬ä¸€æ­¥åˆ›å»ºæ“ä½œå…ƒæ•°æ®æ–‡ä»¶">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ“ä½œå…ƒæ•°æ®æ–‡ä»¶</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»º <code>action.yml</code>æ–‡ä»¶ï¼š</p>
<pre><code class="language-yml">name: 'GET TOKEN' # åç§°
description: 'Get secrets token' # æè¿°
runs:
  using: 'node12' # æŒ‡å®šåœ¨node12çš„ç¯å¢ƒä¸­æ‰§è¡Œ
  main: 'utils/createIssues.js' # æŒ‡å®šéœ€è¦æ‰§è¡Œçš„æ–‡ä»¶
</code></pre>
<h4 id="ç¬¬äºŒæ­¥æ–°å»ºaction">ç¬¬äºŒæ­¥ï¼šæ–°å»ºAction</h4>
<p>åœ¨GitHubé¡¹ç›®ä¸­ï¼Œé€‰æ‹©Â <code>Actions</code>ï¼Œ æ–°å»ºä¸€ä¸ªworkflowã€‚åœ¨Actionsç•Œé¢ï¼ŒGitä¼šæä¾›ä¸€äº›æ¨¡æ¿ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©é»˜è®¤çš„å³å¯ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aef627edb4f24dd98ae35a18359c7994~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"><br>
æ–°å»ºå®Œæˆåï¼Œä¼šé»˜è®¤åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸‹ç”Ÿæˆä¸€ä¸ªÂ <code>.github/workflows/blank.yml</code>Â æ–‡ä»¶ï¼Œç”¨äºé…ç½®è„šæœ¬, æˆ‘ä»¬å°†å…¶ç¨ä½œä¿®æ”¹ï¼š</p>
<pre><code># actionåç§°
name: CREATE ISSUES

# actionæ‰§è¡Œæ—¶æœº
on:
  # åœ¨pushæ—¶æ‰§è¡Œ
  push:
    # åˆ†æ”¯æŒ‡å®šä¸ºmaster
    branches: [ master ]
  # åœ¨PRé˜¶æ®µæ‰§è¡Œ
  pull_request:
    # åˆ†æ”¯æŒ‡å®šä¸ºmaster
    branches: [ master ]
# æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨
jobs:
  build:
    # åœ¨ubuntu-latestå¹³å°æ‰§è¡Œ
    runs-on: ubuntu-latest

    # æ‰§è¡Œæ­¥éª¤
    steps:
      # æ‰§è¡Œåç§°
      - name: Checkout
        # checkoutä»£ç 
        uses: actions/checkout@v2
      - name: Install packages
        # å®‰è£…åŒ…
        run: npm install
      - name: Create an issue
        uses: ./ # ä½¿ç”¨æ ¹ç›®å½•ä¸‹çš„action.yml
</code></pre>
<h4 id="ç¬¬ä¸‰æ­¥éªŒè¯-å‘ç°é—®é¢˜">ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ &amp;&amp; å‘ç°é—®é¢˜</h4>
<p>actionåˆ›å»ºå®Œæˆå¹¶æäº¤åï¼Œæˆ‘ä»¬åˆ‡åˆ°GitHubçš„ <code>Actions</code> é€‰é¡¹ï¼Œç­‰å¾…è„šæœ¬æ‰§è¡Œç»“æŸï¼Œæ­¤æ—¶å†åˆ‡æ¢åˆ° <code>Issues</code> é€‰é¡¹ï¼Œæ­¤æ—¶å‘ç°ï¼Œissueå¹¶æ²¡æœ‰è¢«æˆåŠŸåˆ›å»ºï¼æ­¤æ—¶ä¸ç¦å¼ é£é—®å·ï¼š</p>
<div align="center">
<figure data-type="image" tabindex="5"><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89d447f78706427985cfeef6b2316ec8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
</div>
<p>åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç‚¹å¼€æ§åˆ¶å°çœ‹ä¸‹é—®é¢˜æ‰€åœ¨ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e58c1ae1d8a045168b124df5ed907fd6~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"><br>
ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯tokenå·²ç»å¤±æ•ˆäº†ï¼</p>
<p>é‚£tokenä¸ºä»€ä¹ˆä¼šå¤±æ•ˆå‘¢ï¼Ÿé—®é¢˜å‡ºåœ¨æˆ‘ä»¬åˆ›å»ºissueçš„ <code>utils/createIssues.js</code> ä¸Šã€‚åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œæˆ‘ä»¬åˆå§‹åŒ– <code>octokit</code> æ—¶æ‰€ä¼ å…¥çš„tokenæ˜¯æ˜æ–‡ä¼ å…¥çš„ï¼Œåœ¨ä¸Šä¼ æ‰§è¡Œactionçš„æ—¶å€™ï¼Œtokenä¼šç«‹å³å¤±æ•ˆã€‚</p>
<h4 id="ç¬¬å››æ­¥è§£å†³é—®é¢˜">ç¬¬å››æ­¥ï¼šè§£å†³é—®é¢˜</h4>
<p>ä¸æ‡‚å°±é—®ï¼šé‚£è¦æ€ä¹ˆç¬¬ä¸‰æ­¥ä¸­çš„é—®é¢˜å‘¢ï¼Ÿ<br><br>
ç­”ï¼šæ—¢ç„¶é—®é¢˜å‡ºåœ¨æ˜æ–‡ä¼ å…¥tokenä¸Šï¼Œé‚£å’±ä»¬å°±ä¸æ˜æ–‡ä¼ å…¥tokenå‘—ï¼<br><br>
ä¸æ‡‚å†é—®ï¼šé‚£å¦‚ä½•åœ¨ <code>utils/createIssue.js</code> ä¸­ä»¥ä¸æ˜æ–‡çš„æ–¹å¼è·å–åˆ°tokenå‘¢ï¼Ÿ<br><br>
ç­”ï¼šå®˜æ–¹æä¾›äº†ä¸€ä¸ªå·¥å…·åŒ…ï¼š<a href="https://github.com/actions/toolkit/tree/main/packages/core">@actions/core</a>ã€‚<br>
é€šè¿‡è¿™ä¸ªåŒ…ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°actionä¸­ä¼ è¿‡æ¥çš„å†…å®¹ã€‚</p>
<h5 id="è§£å†³é—®é¢˜ç¬¬ä¸€å¼è€è§„çŸ©æ—¢ç„¶è¦ç”¨å®ƒé‚£æˆ‘ä»¬å°±å®‰è£…å®ƒ">è§£å†³é—®é¢˜ç¬¬ä¸€å¼ï¼šè€è§„çŸ©ï¼Œæ—¢ç„¶è¦ç”¨å®ƒï¼Œé‚£æˆ‘ä»¬å°±å®‰è£…å®ƒï¼</h5>
<pre><code>yarn add -D @actions/core
</code></pre>
<h5 id="è§£å†³é—®é¢˜ç¬¬äºŒå¼ä¿®æ”¹actionæ‰§è¡Œè„šæœ¬">è§£å†³é—®é¢˜ç¬¬äºŒå¼ï¼šä¿®æ”¹actionæ‰§è¡Œè„šæœ¬</h5>
<p>æ—¢ç„¶è¯´è¦é€šè¿‡actionæ¥è·å–tokenï¼Œé‚£æˆ‘ä»¬é¦–å…ˆè¦è®©å®ƒæŠ›å‡ºæ¥æ‰è¡Œã€‚</p>
<p>å›åˆ°ç”¨æˆ·è®¾ç½®ç•Œé¢ï¼Œæˆ‘ä»¬é‡æ–°ç”Ÿæˆä¸€ä¸ªtokenï¼Œå¹¶å°†è¿™ä¸ªtokenè®¾ç½®åˆ° <strong>é¡¹ç›®è®¾ç½®ä¸­çš„ <code>Secrets</code> é€‰é¡¹ä¸­</strong>:</p>
<figure data-type="image" tabindex="6"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/796408d0d7db417a90d9b197b4fee579~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
<p>ä¹‹åå¯¹è„šæœ¬æ–‡ä»¶ç¨ä½œä¿®æ”¹ï¼ŒåŠ å…¥ <code>with</code> é…ç½®</p>
<pre><code> # çœç•¥å‰æ–¹å¥½å¤šä»£ç ...
      - name: Create an issue
        uses: ./ # ä½¿ç”¨æ ¹ç›®å½•ä¸‹çš„action.yml
        with:
          token: ${{ secrets.TOKEN }} # å°†TOKENæŠ›å‡º
</code></pre>
<h5 id="è§£å†³é—®é¢˜ç¬¬ä¸‰å¼ä¿®æ”¹actionymlæ–‡ä»¶å®šä¹‰è¾“å…¥é¡¹ç”¨äºæ¥å—token">è§£å†³é—®é¢˜ç¬¬ä¸‰å¼ï¼šä¿®æ”¹action.ymlæ–‡ä»¶ï¼Œå®šä¹‰è¾“å…¥é¡¹ï¼Œç”¨äºæ¥å—token</h5>
<pre><code class="language-yml">name: 'GET TOKEN' # åç§°
description: 'Get secrets token' # æè¿°
# å®šä¹‰è¾“å…¥é¡¹
inputs:
  token:  # è¾“å…¥é¡¹çš„åç§°
    description: 'Get secrets token' # è¾“å…¥é¡¹çš„æè¿°
    required: true # è¾“å…¥é¡¹æ˜¯å¦å¿…é¡»
runs:
  using: 'node12' # æŒ‡å®šåœ¨node12çš„ç¯å¢ƒä¸­æ‰§è¡Œ
  main: 'utils/createIssues.js' # æŒ‡å®šéœ€è¦æ‰§è¡Œçš„æ–‡ä»¶
</code></pre>
<h5 id="è§£å†³é—®é¢˜ç¬¬å››å¼è®¾ç½®token">è§£å†³é—®é¢˜ç¬¬å››å¼ï¼šè®¾ç½®token</h5>
<p>åœ¨ <code>utils/createIssues.js</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>@actions/core</code> çš„å¼•ç”¨ï¼Œå¹¶è·å–tokenï¼š</p>
<pre><code class="language-js">const { Octokit } = require(&quot;octokit&quot;)
const core = require('@actions/core')

const auth = core.getInput('token')
const octokit = new Octokit({ auth })

octokit.rest.issues.create({
  owner: &quot;your name&quot;, // GitHubè´¦æˆ·å
  repo: &quot;your project name&quot; // é¡¹ç›®åç§°
  title: 'åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹', // issueæ ‡é¢˜
  body: 'å…³äºåˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹çš„æ›´å¤šè§£æ³•ï¼Œæ¬¢è¿åœ¨issueä¸­è®¨è®º~' // issueæè¿°
})
</code></pre>
<p>è€Œåæäº¤ä¿®æ”¹é¡¹ï¼Œå†æ¬¡æŸ¥çœ‹GitHubä¸­çš„ <code>Actions</code> é€‰é¡¹ï¼Œå‘ç°è„šæœ¬è¿è¡Œæ— è¯¯ï¼Œä¸” <code>Issues</code> ä¸­ä¹Ÿå·²ç»å‡ºç°äº†æ–°å»ºçš„issueã€‚</p>
<p>è¡Œæ–‡è‡³æ­¤ï¼ŒåŠŸèƒ½å®Œæˆå·²å‘Šä¸€æ®µè½~</p>
<h2 id="æ€è€ƒ">æ€è€ƒ</h2>
<p>é€šè¿‡ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»å®ç°äº†è‡ªåŠ¨åˆ›å»ºissueçš„åŠŸèƒ½ï¼Œä½†æ˜¯åŠŸèƒ½è¿˜ä¸å¤Ÿå®Œç¾ï¼Œä¸»è¦è¿˜å­˜åœ¨ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<pre><code>1. æ¯æ¬¡æ›´æ–°å®Œæ–‡æ¡£ï¼Œæˆ‘å¿…é¡»æ‰‹åŠ¨ä¿®æ”¹issueçš„titleä¸bodyï¼Œæ¥ä¿è¯æˆ‘åˆ›å»ºissueçš„æ­£ç¡®æ€§ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼›
2. æ¯æ¬¡é‡æ–°æ‰§è¡Œï¼Œæˆ‘å¦‚ä½•ä¿è¯issueæ²¡æœ‰è¢«é‡å¤åˆ›å»ºå‘¢ï¼Ÿ
</code></pre>
<p>é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>
<h4 id="é’ˆå¯¹é—®é¢˜1">é’ˆå¯¹é—®é¢˜1:</h4>
<p>æ—¢ç„¶ä¸æƒ³æ‰‹åŠ¨ï¼Œé‚£å°±è‡ªåŠ¨å˜›~åœ¨ <code>docs/.vuepress/config.js</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°sidebarçš„é…ç½®ï¼Œé€šè¿‡è¿™ä¸ªé…ç½®ï¼Œæˆ‘å¿…ç„¶æœ‰æ–¹æ³•å¯ä»¥è·å–åˆ°æ ‡é¢˜ä¿¡æ¯ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘å€ŸåŠ©äº†ä¸€ä¸ªåº“ï¼š<a href="https://npmmirror.com/package/markdown-to-ast">markdown-to-ast</a>ã€‚è¿™ä¸ªåº“å¯ä»¥å°†markdownæ–‡ä»¶å†…å®¹è½¬æ¢æˆ <code>AST</code>,æˆ‘å¯ä»¥å€Ÿæ­¤è·å–åˆ°æ ‡é¢˜å†…å®¹ï¼š</p>
<pre><code class="language-js">const vuepressConfig = require(&quot;../docs/.vuepress/config&quot;)
const fs = require(&quot;fs&quot;)
const path = require(&quot;path&quot;)
const { parse } = require(&quot;markdown-to-ast&quot;)

const baseDir = '/notes/exercises/'
// è·å–ä¹ é¢˜æ–‡ä»¶
const { themeConfig: { sidebar } } = vuepressConfig
const exercisesSidebar = sidebar[`${baseDir}`]
const exercisesFiles = exercisesSidebar.reduce((files, item) =&gt; {
 if ( item &amp;&amp; item.children ) {
  files.push(...item.children)
 }
 return files
}, [])
// è·å–æ ‡é¢˜ä¸æ–‡ä»¶è·¯å¾„å¯¹åº”å…³ç³»
const docs = exercisesFiles.map(fileDir =&gt; {
 const content = fs.readFileSync(path.resolve(__dirname, '../', `docs${baseDir}${fileDir}`), {
  encoding: 'utf-8'
 })
 const { children } = parse(content)
 const titleConfig = children.filter(ch =&gt; ch.type === 'Header' &amp;&amp; ch.depth === 1)
 let title = ''
 if (titleConfig &amp;&amp; titleConfig.length) title = titleConfig[0].raw.replace('# ', '')
 return {
  title,
  fileDir
 }
})

module.exports = { exercisesSidebar, exercisesFiles, docs }
</code></pre>
<p>ä¹‹åæˆ‘åªéœ€è¦åœ¨ <code>utils/createIssues.js</code> ä¸­å¼•å…¥ <code>docs</code>ï¼Œéå†è·å– <code>title</code> å³å¯ï¼š</p>
<pre><code class="language-js">const { Octokit } = require(&quot;octokit&quot;);
const core = require('@actions/core');
const { docs } = require('./getAllDocs')

const auth = core.getInput('token')
const octokit = new Octokit({ auth })

const titles = docs.filter(doc =&gt; doc.title)

titles.forEach(title =&gt; {
 octokit.rest.issues.create({
  owner: &quot;your name&quot;,
  repo: &quot;your project name&quot;,
  title,
  body: `å…³äº${title}çš„æ›´å¤šè§£æ³•ï¼Œæ¬¢è¿åœ¨issueä¸­è®¨è®º~`
 });
})
</code></pre>
<h3 id="é’ˆå¯¹é—®é¢˜2">é’ˆå¯¹é—®é¢˜2ï¼š</h3>
<p>é‚£åˆè¯¥å¦‚ä½•é¿å…åŒåissueé‡å¤åˆ›å»ºçš„é—®é¢˜å‘¢ï¼Ÿ<br><br>
å¦‚æœæˆ‘å¯ä»¥è·å–åˆ°å½“å‰å·²ç»è¢«åˆ›å»ºçš„æ´»è·ƒissuesåˆ—è¡¨ï¼Œç„¶ååšä¸‹ç­›é€‰å‰”é™¤ï¼Œä¸å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ä¹ˆï¼Ÿ<br><br>
é‚£æˆ‘è¯¥å¦‚ä½•è·å–åˆ°å½“å‰å·²åˆ›å»ºçš„æ´»è·ƒissueså‘¢ï¼Ÿ<br><br>
ç­”æ¡ˆæ˜¯ä½¿ç”¨ä¸Šæ–‡ä¸­æˆ‘ä»¬æåˆ°çš„ <code>octokit</code> åº“ã€‚å®ƒæä¾›äº†è·å–æ´»è·ƒissuesåˆ—è¡¨çš„æ–¹å¼ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/690a5da59beb4de8a799bf031bddca2a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"><br>
æˆ‘ä»¬å†æ¬¡å¯¹ <code>utils/createIssues.js</code> æ–‡ä»¶åšäº›ä¿®æ”¹ï¼š</p>
<pre><code class="language-js">const { Octokit } = require(&quot;octokit&quot;);
const core = require('@actions/core');
const { docs } = require('./getAllDocs')

const auth = core.getInput('token')
const octokit = new Octokit({ auth })

// å®šä¹‰é¡¹ç›®é€šç”¨å‚æ•°
const REPO_INFO = {
 owner: &quot;your name&quot;,
 repo: &quot;your project name&quot;
}
// è·å–æ‰€æœ‰issues
async function getAllIssues () {
 return await octokit.paginate(octokit.rest.issues.listForRepo, {
  ...REPO_INFO,
  per_page: 100,
 })
}
getAllIssues().then(data =&gt; {
 if (data &amp;&amp; data.length) {
  let issuesList = data.map(issue =&gt; issue.title)
  // è·å–æ²¡æœ‰åˆ›å»ºissueçš„æ ‡é¢˜
  const titles = docs.filter(doc =&gt; !issuesList.includes(doc.title))
  // å°†æ²¡æœ‰åˆ›å»ºissueçš„ç®—æ³•éƒ½åˆ›å»ºå¯¹åº”çš„issue
  titles.forEach(item =&gt; {
   const { title } = item
   octokit.rest.issues.create({
    ...REPO_INFO,
    title,
    body: `å…³äº${title}çš„æ›´å¤šè§£æ³•ï¼Œæ¬¢è¿åœ¨issueä¸­è®¨è®º~`
   });
  })
 }
}).catch(err =&gt; { console.log(err) })
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿‡æ»¤åˆ°å·²ç»åˆ›å»ºè¿‡çš„issuesï¼Œå®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜~~</p>
<div align="center">
<figure data-type="image" tabindex="7"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14fb25ef883248ffac27d7f59e1853a2~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"></figure>
</div>
<h1 id="ç»“è¯­">ç»“è¯­</h1>
<p>è¡Œæ–‡è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†é€šè¿‡GitHub Actionsè‡ªåŠ¨åˆ›å»ºissuesçš„åŠŸèƒ½ã€‚</p>
<p>æœ‰å…³äºæ­¤æ–‡çš„é¡¹ç›®è·Ÿæºç ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥<a href="https://github.com/luhaifeng666/arithmetic-practice">æˆ³è¿™é‡Œ~</a>ã€‚æ¬¢è¿å°ä¼™ä¼´å„¿ä»¬starï¼Œå¹¶åœ¨issuesä¸­ç•™ä¸‹è‡ªå·±çš„éªšæ“ä½œ~</p>
<p>æ­¤æ–‡ä¸­æ‰€æåˆ°çš„æ–‡æ¡£åœ°å€ä¹Ÿå·²éƒ¨ç½²ï¼Œå¯ä»¥<a href="https://luhaifeng666.github.io/arithmetic-practice/">æˆ³è¿™é‡Œ~</a></p>
<h1 id="å‚è€ƒæ–‡æ¡£-è§†é¢‘">å‚è€ƒæ–‡æ¡£ &amp;&amp; è§†é¢‘</h1>
<p><a href="https://www.bilibili.com/video/BV1F34y1U7JT">å´”å¤§çš„æ•™å­¦è§†é¢‘~</a></p>
<p><a href="https://juejin.cn/post/7029247758582153252">åˆ©ç”¨Git Actionséƒ¨ç½²vuepress</a></p>
<p><a href="https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action">åˆ›å»ºJavascriptçš„actions</a></p>
<p><a href="https://www.npmjs.com/package/octokit">octokit</a></p>
<p><a href="https://github.com/actions/toolkit/tree/main/packages/core">@actions/core</a></p>
<p><a href="https://npmmirror.com/package/markdown-to-ast">markdown-to-ast</a></p>
]]></content>
    </entry>
</feed>